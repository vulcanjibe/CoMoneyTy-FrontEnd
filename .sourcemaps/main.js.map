{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/cmy-model/cmy.model.ts","../../src/pages/cmy-ajout-participant/cmy-ajout-participant.ts","../../src/pages/cmy-modal/modal-photo.ts","../../src/pages/cmy-creation-depense/cmy-creation-depense.ts","../../src/pages/cmy-modal/modal-choix-operation.ts","../../src/pages/cmy-liste-depense/cmy-liste-depense.ts","../../src/pages/cmy-bilan-event/cmy-bilan-event.ts","../../src/pages/cmy-detail-event/cmy-detail-event.ts","../../src/pages/cmy-creation-event/cmy-creation-event.ts","../../src/components/menu-circular/menu-circular.ts","../../src/pages/cmy-liste-historique/cmy-liste-historique.ts","../../src/pages/cmy-gestion-profile/cmy-gestion-profile.ts","../../src/pages/cmy-liste-event/cmy-liste-event.ts","../../src/pages/login/facebook-login.service.ts","../../src/pages/login/google-login.service.ts","../../src/pages/cmy-invitation-ami/cmy-invitation-ami.ts","../../src/pages/cmy-modal/modal-choix-event.ts","../../src/pages/cmy-gestion-ami/cmy-gestion-ami.ts","../../src/pages/cmy-paiement-ordre/cmy-paiement-ordre.ts","../../src/pages/cmy-detail-ordre/cmy-detail-ordre.ts","../../src/pages/cmy-detail-message/cmy-detail-message.ts","../../src/pages/cmy-list-message/cmy-liste-message.ts","../../src/pages/cmy-home/cmy-home.ts","../../src/pages/privacy-policy/privacy-policy.ts","../../src/pages/signup/signup.ts","../../src/pages/forgot-password/forgot-password.ts","../../src/pages/login/login.ts","../../src/pages/walkthrough/walkthrough.ts","../../src/pages/cmy-detail-operation/cmy-detail-operation.ts","../../src/pages/cmy-liste-operation/cmy-liste-operation.ts","../../src/pages/cmy-page-test/cmy-liste-user.ts","../../src/pages/cmy-page-test/cmy-page-test.ts","../../src/pages/cmy-clavier-virtuel/cmy-clavier-virtuel.ts","../../src/app/app.component.ts","../../src/components/preload-image/preload-image.ts","../../src/components/show-hide-password/show-hide-input.ts","../../src/components/show-hide-password/show-hide-container.ts","../../src/pages/cmy-liste-ordre/cmy-liste-ordre.ts","../../src/app/app.module.ts","../../src/app/app.module.ngfactory.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","Error","keys","module","exports","id","__decorate","this","decorators","target","key","desc","facebook_login_service___decorate","google_login_service___decorate","_super"],"mappings":"oCAAA,SAAAA,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,uBCVA,SAAAT,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,ytmSCVAC,GAAAC,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAYe,4nCAAA,kIAqEL,+BAAA,MAeM,+BAAA,MAML,+BAAA,MAMQ,8DAAA,MAQJ,kEAAA,MAQF,gEAAA,MA0BA,mLAAA,MAWA,+BAAA,MAkBF,+BAAA,sBCrKe,+rDAAA,OA0HF,2FAAA,MASO,+BAAA,eCrIf,yTAAA,MCKS,i9FAAA,MCJA,urCAAA,MCCP,8hFAAA,MA+JG,+BAAA,MAKE,+BAAA,MCnKP,+4GAAA,MA0LO,+BAAA,MCrLF,oxIAAA,MCHE,gsFAAA,MCNL,45BAAA,MA8DJ,4EAAA,MASF,uHAAA,MCpES,igBAAA,2BCKD,mrHAAA,MCAJ,8qJAAA,yCCnBhBC,GAAAL,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAc0B,2/BAAA,mQCd1BE,GAAAN,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAcwB,y1CAAA,sQCEL,4sGAAA,MCHE,+gBAAA,MCGL,4oDAAA,gBCDG,+xFAAA,MCDF,iOAAA,MCEE,ihDAAA,MCDD,qrCAAA,MCGR,6tCAAA,MCPa,kGAAA,MCQP,s/GAAA,MCHQ,4vCAAA,MCKT,+zGAAA,MCLM,+hCAAA,MCFA,6yCAAA,MCED,8sEAAA,MCFL,g0BAAA,gBCGD,m/FAAA,MCAM,s/CAAA,gBCQT,wsFAAA,cCdO,q5BAAA,MCDC,kKAAA,MCCI,yJAAA,0BCKP,goBAAA,MC+DD,+BAAA,wgbCgCQ,SAAAG,gzjBAAA","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 243;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 243\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 258;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 258\n// module chunks = 0","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { ToastController } from \"ionic-angular\";\r\nimport { Injectable } from \"@angular/core\";\r\nvar Constante = (function () {\r\n    function Constante(toastCtrl) {\r\n        this.toastCtrl = toastCtrl;\r\n        this.BASE_URL_REST = 'http://vulcanjibe.ddns.net:8080/CoMoneyTy-0.0.1-SNAPSHOT/rest';\r\n        this.BASE_URL_IMAGE = 'http://vulcanjibe.ddns.net:8080/Image';\r\n        this.userChange = new BehaviorSubject(this.user);\r\n        this.eventChange = new BehaviorSubject(this.event);\r\n    }\r\n    Constante.prototype.touchEvent = function (newEvent) {\r\n        this.event = newEvent;\r\n        this.eventChange.next(newEvent);\r\n    };\r\n    Constante.prototype.login = function (newUser) {\r\n        this.user = newUser;\r\n        this.userChange.next(newUser);\r\n    };\r\n    Constante.prototype.logout = function () {\r\n        //this.user = newUser;\r\n        this.user.nom = \"....\";\r\n        this.userChange.next(this.user);\r\n    };\r\n    Constante.prototype.getUrlImage = function (url) {\r\n        if (url.startsWith(\"http\"))\r\n            return url;\r\n        if (url.startsWith(\"content:\"))\r\n            return url;\r\n        return this.BASE_URL_IMAGE + \"/\" + url;\r\n    };\r\n    Constante.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    Constante.prototype.presentToastAvecPosition = function (text, position) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: position\r\n        });\r\n        toast.present();\r\n    };\r\n    Constante.prototype.traiteErreur = function (error, component) {\r\n        console.log(\"ERREUR=>\", error);\r\n        if (component.loading != null)\r\n            component.loading.dismissAll();\r\n        var msg = \"Une erreur technique est survenue!!!\";\r\n        if (error.data && error.data.message) {\r\n            msg = error.data.message;\r\n        }\r\n        else {\r\n            msg += \" : \" + error;\r\n        }\r\n        var toast = this.toastCtrl.create({\r\n            message: msg,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    return Constante;\r\n}());\r\nConstante = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _a || Object])\r\n], Constante);\r\nexport { Constante };\r\nvar User = (function () {\r\n    function User() {\r\n    }\r\n    return User;\r\n}());\r\nexport { User };\r\nvar UserAvecDepense = (function () {\r\n    function UserAvecDepense(user1) {\r\n        this.user = user1;\r\n        this.aPaye = 0;\r\n        this.doit = 0;\r\n    }\r\n    return UserAvecDepense;\r\n}());\r\nexport { UserAvecDepense };\r\nvar Invitation = (function () {\r\n    function Invitation() {\r\n    }\r\n    return Invitation;\r\n}());\r\nexport { Invitation };\r\nvar Event = (function () {\r\n    function Event() {\r\n    }\r\n    return Event;\r\n}());\r\nexport { Event };\r\nvar LienEventUser = (function () {\r\n    function LienEventUser(id1, id2) {\r\n        this.userId = id1;\r\n        this.eventId = id2;\r\n    }\r\n    return LienEventUser;\r\n}());\r\nexport { LienEventUser };\r\nvar Mouvement = (function () {\r\n    function Mouvement(idEmet, idEv) {\r\n        this.idEmetteur = idEmet;\r\n        this.idEvent = idEv;\r\n    }\r\n    return Mouvement;\r\n}());\r\nexport { Mouvement };\r\nvar Depense = (function () {\r\n    function Depense(idPay, idEv) {\r\n        this.idPayeur = idPay;\r\n        this.idEvent = idEv;\r\n    }\r\n    return Depense;\r\n}());\r\nexport { Depense };\r\nvar TypeOperation = (function () {\r\n    function TypeOperation() {\r\n    }\r\n    return TypeOperation;\r\n}());\r\nexport { TypeOperation };\r\nvar Operation = (function () {\r\n    function Operation() {\r\n    }\r\n    return Operation;\r\n}());\r\nexport { Operation };\r\nvar OperationAvecDepense = (function () {\r\n    function OperationAvecDepense() {\r\n    }\r\n    return OperationAvecDepense;\r\n}());\r\nexport { OperationAvecDepense };\r\nvar Contact = (function () {\r\n    function Contact(nom, prenom, phone) {\r\n        this.idInterne = nom + \".\" + prenom;\r\n        this.email = nom + \".\" + prenom + \"@gmail.com\";\r\n        this.phoneNumber = \"06 82 66 79 21\";\r\n        this.displayName = nom + \" \" + prenom;\r\n        this.photo = \"user/inconnu.png\";\r\n    }\r\n    return Contact;\r\n}());\r\nexport { Contact };\r\nvar Message = (function () {\r\n    function Message() {\r\n    }\r\n    return Message;\r\n}());\r\nexport { Message };\r\nvar TableauOperation = (function () {\r\n    function TableauOperation() {\r\n    }\r\n    return TableauOperation;\r\n}());\r\nexport { TableauOperation };\r\nvar TableauMessage = (function () {\r\n    function TableauMessage() {\r\n    }\r\n    return TableauMessage;\r\n}());\r\nexport { TableauMessage };\r\nvar Ordre = (function () {\r\n    function Ordre() {\r\n    }\r\n    return Ordre;\r\n}());\r\nexport { Ordre };\r\nvar Historique = (function () {\r\n    function Historique() {\r\n    }\r\n    return Historique;\r\n}());\r\nexport { Historique };\r\nvar _a;\r\n//# sourceMappingURL=cmy.model.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-model/cmy.model.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, NavParams } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, LienEventUser } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar AjoutParticipantPage = (function () {\r\n    function AjoutParticipantPage(nav, constante, loadingCtrl, restangular, params) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.params = params;\r\n        this.encours = false;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = params.get(\"theEvent\");\r\n        this.participantsEvent = params.get(\"participantsEvent\");\r\n    }\r\n    AjoutParticipantPage.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // récupération de toutes les relations\r\n        this.restangular.all('user/' + this.constante.user.id + '/relations').getList().subscribe(function (relations) {\r\n            _this.relations = new Array();\r\n            for (var _i = 0, relations_1 = relations; _i < relations_1.length; _i++) {\r\n                var relation = relations_1[_i];\r\n                // Est-ce qu'il est déjà ajouté\r\n                var trouve = false;\r\n                for (var _a = 0, _b = _this.participantsEvent; _a < _b.length; _a++) {\r\n                    var userAvecDepense = _b[_a];\r\n                    if (userAvecDepense.user.id == relation.id)\r\n                        trouve = true;\r\n                }\r\n                var relationPresent = new ParticipantPresent(relation, trouve);\r\n                _this.relations.push(relationPresent);\r\n            }\r\n            _this.relationsSave = new Array();\r\n            for (var _c = 0, _d = _this.relations; _c < _d.length; _c++) {\r\n                var relation = _d[_c];\r\n                _this.relationsSave.push(relation.present);\r\n            }\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    AjoutParticipantPage.prototype.close = function () {\r\n        var _this = this;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        this.encours = true;\r\n        var tab = [];\r\n        var commandes = new Array();\r\n        for (var _i = 0, _a = this.relations; _i < _a.length; _i++) {\r\n            var participantPresent = _a[_i];\r\n            // Est-ce qu'il était là avant?\r\n            var present = false;\r\n            for (var _b = 0, _c = this.participantsEvent; _b < _c.length; _b++) {\r\n                var userAvecDepense = _c[_b];\r\n                if (userAvecDepense.user.id == participantPresent.participant.id) {\r\n                    present = true;\r\n                    break;\r\n                }\r\n            }\r\n            var commande = new CommandeAddDelParticipant();\r\n            commande.lienEventUser = new LienEventUser(participantPresent.participant.id, this.event.id);\r\n            if (participantPresent.present && !present) {\r\n                // Il est présnet mais n'était pas là avant\r\n                //let lien = this.restangular.copy(new LienEventUser(participantPresent.participant.id,this.event.id));\r\n                //lien.route='lienEventUser';\r\n                //tab.push(lien.save().toPromise());\r\n                commande.commande = \"ADD\";\r\n            }\r\n            else if (!participantPresent.present && present) {\r\n                // Il a été enlevé\r\n                //let lien = new LienEventUser(participantPresent.participant.id,this.event.id);\r\n                //tab.push(this.restangular.one(\"event\").post(\"supprimeUser\",lien).toPromise());\r\n                commande.commande = \"DEL\";\r\n            }\r\n            if (commande.commande != null)\r\n                commandes.push(commande);\r\n        }\r\n        if (commandes.length > 0) {\r\n            // dans les 2 cas, je refresh la liste pour ne pas refaire les répartitions en local\r\n            this.restangular.one(\"event\").post(\"ajoutSuppressionUser\", commandes).subscribe(function (rep) {\r\n                //this.refresh();\r\n                _this.participantsEvent.splice(0, _this.participantsEvent.length);\r\n                for (var _i = 0, rep_1 = rep; _i < rep_1.length; _i++) {\r\n                    var part = rep_1[_i];\r\n                    _this.participantsEvent.push(part);\r\n                }\r\n                _this.loading.dismiss();\r\n                _this.encours = false;\r\n                _this.nav.pop();\r\n            }, function (err) {\r\n                _this.encours = false;\r\n                var cpt = 0;\r\n                for (var _i = 0, _a = _this.relationsSave; _i < _a.length; _i++) {\r\n                    var present = _a[_i];\r\n                    _this.relations[cpt].present = present;\r\n                    cpt++;\r\n                }\r\n                _this.constante.traiteErreur(err, _this);\r\n            });\r\n        }\r\n        else {\r\n            this.encours = false;\r\n            this.nav.pop();\r\n        }\r\n    };\r\n    ;\r\n    AjoutParticipantPage.prototype.toogle = function (relation) {\r\n        relation.present = !relation.present;\r\n    };\r\n    ;\r\n    return AjoutParticipantPage;\r\n}());\r\nAjoutParticipantPage = __decorate([\r\n    Component({\r\n        selector: 'ajout-participant-page',\r\n        templateUrl: 'cmy-ajout-participant.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _e || Object])\r\n], AjoutParticipantPage);\r\nexport { AjoutParticipantPage };\r\n;\r\nvar ParticipantPresent = (function () {\r\n    function ParticipantPresent(user, pres) {\r\n        this.user = user;\r\n        this.pres = pres;\r\n        this.participant = user;\r\n        this.present = pres;\r\n    }\r\n    return ParticipantPresent;\r\n}());\r\nvar CommandeAddDelParticipant = (function () {\r\n    function CommandeAddDelParticipant() {\r\n    }\r\n    return CommandeAddDelParticipant;\r\n}());\r\nvar _a, _b, _c, _d, _e;\r\n//# sourceMappingURL=cmy-ajout-participant.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-ajout-participant/cmy-ajout-participant.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { Platform, NavParams, ViewController } from 'ionic-angular';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nvar ModalPhoto = (function () {\r\n    function ModalPhoto(platform, params, viewCtrl, constante) {\r\n        this.platform = platform;\r\n        this.params = params;\r\n        this.viewCtrl = viewCtrl;\r\n        this.constante = constante;\r\n        this.photos = new Array;\r\n        for (var i = 0; i < 4; i++) {\r\n            this.photos[i] = 'event/photoEvent' + (i + 1) + '.png';\r\n        }\r\n    }\r\n    ModalPhoto.prototype.choose = function (photo) {\r\n        var data = photo;\r\n        this.viewCtrl.dismiss(data);\r\n    };\r\n    ModalPhoto.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    return ModalPhoto;\r\n}());\r\nModalPhoto = __decorate([\r\n    Component({\r\n        templateUrl: 'modal-photo.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Platform !== \"undefined\" && Platform) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _c || Object, typeof (_d = typeof Constante !== \"undefined\" && Constante) === \"function\" && _d || Object])\r\n], ModalPhoto);\r\nexport { ModalPhoto };\r\nvar _a, _b, _c, _d;\r\n//# sourceMappingURL=modal-photo.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-modal/modal-photo.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ModalController, NavParams, ToastController } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Depense } from '../cmy-model/cmy.model';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { ModalPhoto } from '../cmy-modal/modal-photo';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar CreationDepensePage = (function () {\r\n    function CreationDepensePage(nav, loadingCtrl, modalCtrl, constante, restangular, camera, params, toastCtrl) {\r\n        this.nav = nav;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.modalCtrl = modalCtrl;\r\n        this.constante = constante;\r\n        this.restangular = restangular;\r\n        this.camera = camera;\r\n        this.params = params;\r\n        this.toastCtrl = toastCtrl;\r\n        this.encours = false;\r\n        this.imageUrl = null;\r\n        this.imageDataCamera = null;\r\n        this.valid = false;\r\n        this.options = {\r\n            quality: 80,\r\n            sourceType: this.camera.PictureSourceType.CAMERA,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.PNG,\r\n            saveToPhotoAlbum: false,\r\n            targetWidth: 200,\r\n            targetHeight: 200\r\n        };\r\n        this.creationMouvementForm = new FormGroup({\r\n            commentaire: new FormControl('', Validators.compose([\r\n                Validators.required\r\n            ])),\r\n            montant: new FormControl('', Validators.compose([\r\n                Validators.required\r\n            ])),\r\n            date: new FormControl(new Date().toISOString(), Validators.compose([\r\n                Validators.required\r\n            ]))\r\n        });\r\n        this.event = params.get(\"theEvent\");\r\n        this.participants = params.get(\"theParticipants\");\r\n        var theUser = this.constante.user; //JSON.parse(localStorage.getItem('user'));\r\n        this.depense = new Depense(theUser.id, this.event.id);\r\n    }\r\n    ;\r\n    CreationDepensePage.prototype.popupPayePar = function () {\r\n        this.presentToast(\"Pas encore implementé\");\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.popupPartage = function () {\r\n        this.presentToast(\"Pas encore implementé\");\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.saveMouvement = function () {\r\n        var _this = this;\r\n        this.encours = true;\r\n        this.depense.commentaire = this.creationMouvementForm.get('commentaire').value;\r\n        this.depense.date = this.creationMouvementForm.get('date').value;\r\n        this.depense.montant = parseFloat(this.creationMouvementForm.get('montant').value);\r\n        this.depense.typeRepartition = \"equitable\";\r\n        if (this.imageDataCamera == null) {\r\n        }\r\n        else {\r\n            // Nouvelle photo en envoyer\r\n            this.imageUrl = this.createFileName();\r\n            this.imageUrl += \"==\" + this.imageDataCamera;\r\n        }\r\n        ;\r\n        this.depense.urlPhoto = this.imageUrl;\r\n        this.loading = this.loadingCtrl.create({\r\n            content: 'Enregistrement...',\r\n        });\r\n        this.loading.present();\r\n        this.restangular.one(\"depense\").post(\"save\", this.depense).subscribe(function (resp) {\r\n            var montant = _this.depense.montant / _this.participants.length;\r\n            for (var _i = 0, _a = _this.participants; _i < _a.length; _i++) {\r\n                var participant = _a[_i];\r\n                if (participant.user.id != _this.depense.idPayeur)\r\n                    participant.doit += montant;\r\n                else {\r\n                    participant.aPaye += _this.depense.montant;\r\n                    participant.doit -= _this.depense.montant - montant;\r\n                }\r\n            }\r\n            _this.event.montantTotal += _this.depense.montant;\r\n            _this.event.montantDepense += _this.depense.montant;\r\n            for (var _b = 0, _c = _this.participants; _b < _c.length; _b++) {\r\n                var participant = _c[_b];\r\n                if (participant.user.id == _this.constante.user.id)\r\n                    _this.event.montantDu = participant.doit;\r\n            }\r\n            _this.constante.touchEvent(_this.event);\r\n            _this.loading.dismissAll();\r\n            _this.nav.pop();\r\n        }, function (errorResponse) {\r\n            _this.encours = false;\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.choosePhoto = function () {\r\n        var _this = this;\r\n        var modal = this.modalCtrl.create(ModalPhoto);\r\n        modal.onDidDismiss(function (data) {\r\n            console.log(data);\r\n            _this.imageUrl = data;\r\n        });\r\n        modal.present();\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.takePhoto = function () {\r\n        var _this = this;\r\n        this.options.sourceType = this.camera.PictureSourceType.CAMERA;\r\n        this.camera.getPicture(this.options).then(function (imageData) {\r\n            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.chooseGallery = function () {\r\n        var _this = this;\r\n        this.options.sourceType = this.camera.PictureSourceType.PHOTOLIBRARY;\r\n        this.camera.getPicture(this.options).then(function (imageData) {\r\n            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    // Create a new name for the image\r\n    CreationDepensePage.prototype.createFileName = function () {\r\n        var d = new Date();\r\n        var n = d.getTime();\r\n        var newFileName = \"mouvement/\" + this.constante.user.id + \"_\" + n + \".png\";\r\n        return newFileName;\r\n    };\r\n    ;\r\n    CreationDepensePage.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    ;\r\n    return CreationDepensePage;\r\n}());\r\nCreationDepensePage = __decorate([\r\n    Component({\r\n        selector: 'creation-depense-page',\r\n        templateUrl: 'cmy-creation-depense.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof Constante !== \"undefined\" && Constante) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof Camera !== \"undefined\" && Camera) === \"function\" && _f || Object, typeof (_g = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _g || Object, typeof (_h = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _h || Object])\r\n], CreationDepensePage);\r\nexport { CreationDepensePage };\r\n;\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=cmy-creation-depense.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-creation-depense/cmy-creation-depense.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { LoadingController, ViewController, NavParams, ToastController } from 'ionic-angular';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar ModalChoixOperation = (function () {\r\n    function ModalChoixOperation(loadingCtrl, constante, viewCtrl, restangular, navParam, toastCtrl) {\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.constante = constante;\r\n        this.viewCtrl = viewCtrl;\r\n        this.restangular = restangular;\r\n        this.navParam = navParam;\r\n        this.toastCtrl = toastCtrl;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = this.navParam.get(\"theEvent\");\r\n    }\r\n    ModalChoixOperation.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        this.restangular.all('user/' + this.constante.user.id + '/operations').getList().subscribe(function (operations) {\r\n            _this.tableauOperations = operations;\r\n            _this.tableauOperationsInitial = operations;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.loading.dismiss();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    ModalChoixOperation.prototype.choose = function (operationAvecDepense) {\r\n        // Sauvegarde du lien!!!\r\n        if (operationAvecDepense.operation.montant > 0) {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Merci de sélectionner un débit uniquement!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n        if (operationAvecDepense.depense != null) {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Opération déjà utilisée!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n        this.viewCtrl.dismiss(operationAvecDepense);\r\n    };\r\n    ;\r\n    ModalChoixOperation.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    ;\r\n    ModalChoixOperation.prototype.filtreOperation = function (ev) {\r\n        console.log('Filtre');\r\n        var val = ev.target.value;\r\n        // if the value is an empty string don't filter the items\r\n        if (val && val.trim() != '') {\r\n            this.tableauOperations = this.tableauOperationsInitial.filter(function (item) {\r\n                return (JSON.stringify(item).toLocaleLowerCase().indexOf(val.toLowerCase()) > -1);\r\n            });\r\n        }\r\n        else {\r\n            this.tableauOperations = this.tableauOperationsInitial;\r\n        }\r\n    };\r\n    ;\r\n    return ModalChoixOperation;\r\n}());\r\nModalChoixOperation = __decorate([\r\n    Component({\r\n        selector: 'modal-choix-operation',\r\n        templateUrl: 'modal-choix-operation.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object])\r\n], ModalChoixOperation);\r\nexport { ModalChoixOperation };\r\n;\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=modal-choix-operation.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-modal/modal-choix-operation.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, ModalController, NavParams, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nvar ListeDepense = (function () {\r\n    function ListeDepense(nav, constante, loadingCtrl, restangular, alertController, toastCtrl, modalController, navParam) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.toastCtrl = toastCtrl;\r\n        this.modalController = modalController;\r\n        this.navParam = navParam;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = navParam.get(\"theEvent\");\r\n        this.participants = navParam.get(\"theParticipants\");\r\n    }\r\n    ListeDepense.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        this.restangular.all('event/' + this.event.id + '/depenses').getList().subscribe(function (depenses) {\r\n            _this.depenses = new Array();\r\n            for (var _i = 0, depenses_1 = depenses; _i < depenses_1.length; _i++) {\r\n                var depense = depenses_1[_i];\r\n                var dep = new DepenseAvecUser();\r\n                dep.depense = depense;\r\n                for (var _a = 0, _b = _this.participants; _a < _b.length; _a++) {\r\n                    var particpant = _b[_a];\r\n                    if (particpant.user.id == depense.idPayeur) {\r\n                        dep.user = particpant.user;\r\n                        break;\r\n                    }\r\n                }\r\n                _this.depenses.push(dep);\r\n            }\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.loading.dismiss();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n        this.restangular.all('event/' + this.event.id + '/mouvements').getList().subscribe(function (mouvements) {\r\n            _this.paiements = new Array();\r\n            for (var _i = 0, mouvements_1 = mouvements; _i < mouvements_1.length; _i++) {\r\n                var mouvement = mouvements_1[_i];\r\n                var mvt = new MouvementAvecUser();\r\n                mvt.mouvement = mouvement;\r\n                _this.paiements.push(mvt);\r\n            }\r\n            for (var _a = 0, _b = _this.paiements; _a < _b.length; _a++) {\r\n                var mouvement = _b[_a];\r\n                for (var _c = 0, _d = _this.participants; _c < _d.length; _c++) {\r\n                    var particpant = _d[_c];\r\n                    if (particpant.user.id == mouvement.mouvement.idEmetteur) {\r\n                        mouvement.emetteur = particpant.user;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            for (var _e = 0, _f = _this.paiements; _e < _f.length; _e++) {\r\n                var mouvement = _f[_e];\r\n                for (var _g = 0, _h = _this.participants; _g < _h.length; _g++) {\r\n                    var particpant = _h[_g];\r\n                    if (particpant.user.id == mouvement.mouvement.idDestinataire) {\r\n                        mouvement.destinataire = particpant.user;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }, function (errorResponse) {\r\n            _this.loading.dismiss();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    ListeDepense.prototype.detailDepense = function (operation) {\r\n        var _this = this;\r\n        if (operation.depense.idPayeur != this.constante.user.id) {\r\n            var toast = this.toastCtrl.create({\r\n                message: 'Vous ne pouvez pas modifier cette dépense',\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n        var alert = this.alertController.create({\r\n            title: 'Modifier cette dépense',\r\n            message: \"Voulez-vous :\",\r\n            buttons: [\r\n                {\r\n                    text: 'Supprimer cette dépense',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        _this.loading = _this.loadingCtrl.create({\r\n                            content: 'Suppression...',\r\n                        });\r\n                        _this.loading.present();\r\n                        // this.operationAvecDepense.depense.remove();\r\n                        var newDepense = _this.restangular.copy(operation.depense);\r\n                        newDepense.route = 'depense';\r\n                        newDepense.remove().toPromise().then(function (resp) {\r\n                            _this.loading.dismissAll();\r\n                            console.log(\"dépense supprimée\");\r\n                            _this.event.montantTotal -= newDepense.montant;\r\n                            _this.event.montantDepense -= newDepense.montant;\r\n                            _this.constante.touchEvent(_this.event);\r\n                            // suppression de la ligne\r\n                            for (var i = 0; i < _this.depenses.length; i++) {\r\n                                var dep = _this.depenses[i];\r\n                                if (dep.depense.id == operation.depense.id) {\r\n                                    _this.depenses.splice(i, 1);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            // Mise à jour des montant participant\r\n                            var montant = newDepense.montant / _this.participants.length;\r\n                            for (var _i = 0, _a = _this.participants; _i < _a.length; _i++) {\r\n                                var participant = _a[_i];\r\n                                if (participant.user.id != newDepense.idPayeur)\r\n                                    participant.doit -= montant;\r\n                                else {\r\n                                    participant.aPaye -= newDepense.montant;\r\n                                    participant.doit += newDepense.montant - montant;\r\n                                }\r\n                            }\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Modifier cette dépense',\r\n                    handler: function () {\r\n                        var toast = _this.toastCtrl.create({\r\n                            message: 'Pas encore implémenté petit scarabée!!!',\r\n                            duration: 3000,\r\n                            position: 'top'\r\n                        });\r\n                        toast.present();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Ne rien faire',\r\n                    handler: function () {\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    return ListeDepense;\r\n}());\r\nListeDepense = __decorate([\r\n    Component({\r\n        selector: 'liste-depense',\r\n        templateUrl: 'cmy-liste-depense.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object, typeof (_g = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _g || Object, typeof (_h = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _h || Object])\r\n], ListeDepense);\r\nexport { ListeDepense };\r\nvar DepenseAvecUser = (function () {\r\n    function DepenseAvecUser() {\r\n    }\r\n    return DepenseAvecUser;\r\n}());\r\nvar MouvementAvecUser = (function () {\r\n    function MouvementAvecUser() {\r\n    }\r\n    return MouvementAvecUser;\r\n}());\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=cmy-liste-depense.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-liste-depense/cmy-liste-depense.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, ModalController, NavParams, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Message } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { SMS } from \"@ionic-native/sms\";\r\nvar BilanEvent = (function () {\r\n    function BilanEvent(nav, constante, loadingCtrl, alertCtrl, smsProvider, restangular, alertController, toastCtrl, modalController, navParam) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertCtrl = alertCtrl;\r\n        this.smsProvider = smsProvider;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.toastCtrl = toastCtrl;\r\n        this.modalController = modalController;\r\n        this.navParam = navParam;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = navParam.get(\"theEvent\");\r\n        this.participants = navParam.get(\"theParticipants\");\r\n    }\r\n    BilanEvent.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        this.restangular.all('event/' + this.event.id + '/bilan').getList().subscribe(function (mouvements) {\r\n            _this.mouvements = new Array();\r\n            for (var _i = 0, mouvements_1 = mouvements; _i < mouvements_1.length; _i++) {\r\n                var mouvement = mouvements_1[_i];\r\n                var user1 = _this.rechercheUser(mouvement.idEmetteur);\r\n                var user2 = _this.rechercheUser(mouvement.idDestinataire);\r\n                var mvt = new MouvementAvecUser();\r\n                mvt.mouvement = mouvement;\r\n                mvt.userSource = user1;\r\n                mvt.userCible = user2;\r\n                _this.mouvements.push(mvt);\r\n            }\r\n            _this.loading.dismissAll();\r\n        }, function (errorResponse) {\r\n            _this.loading.dismissAll();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    BilanEvent.prototype.rechercheUser = function (id) {\r\n        for (var _i = 0, _a = this.participants; _i < _a.length; _i++) {\r\n            var user = _a[_i];\r\n            if (user.user.id == id)\r\n                return user.user;\r\n        }\r\n    };\r\n    BilanEvent.prototype.solderEvent = function () {\r\n        var _this = this;\r\n        if (this.event.roles.indexOf(\"Createur\") < 0) {\r\n            this.constante.presentToast(\"Seul le créateur peut solder l'event!\");\r\n            return;\r\n        }\r\n        ;\r\n        this.loading = this.loadingCtrl.create({\r\n            content: 'Enregistrement...',\r\n        });\r\n        this.loading.present();\r\n        this.restangular.one('event/' + this.event.id + '/validebilan').get().subscribe(function (mouvements) {\r\n            _this.loading.dismissAll();\r\n            _this.event.etat = \"En cours de solde\";\r\n            _this.presentToast(\"Les ordres de paiement ont été envoyés!\");\r\n        }, function (errorResponse) {\r\n            _this.loading.dismissAll();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    BilanEvent.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    ;\r\n    BilanEvent.prototype.EnvoyerSms = function () {\r\n        this.chooseCategory();\r\n    };\r\n    ;\r\n    BilanEvent.prototype.chooseCategory = function () {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            cssClass: 'category-prompt'\r\n        });\r\n        alert.setTitle('Communication');\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Par SMS',\r\n            value: 'sms',\r\n            checked: true\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Par mail',\r\n            value: 'mail'\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Par message CoMoneyty',\r\n            value: 'message'\r\n        });\r\n        alert.addButton('Annule');\r\n        alert.addButton({\r\n            text: 'OK',\r\n            handler: function (data) {\r\n                console.log('Checkbox data:', data);\r\n                var tab = new Array();\r\n                _this.categories_checkbox_open = false;\r\n                _this.categories_checkbox_result = data;\r\n                if (data.indexOf(\"sms\") != -1) {\r\n                    tab.push(_this.sms());\r\n                }\r\n                if (data.indexOf(\"message\") != -1) {\r\n                    tab.push(_this.messageCoMoneyTy());\r\n                }\r\n                if (data.indexOf(\"mail\") != -1) {\r\n                }\r\n                _this.loading = _this.loadingCtrl.create({\r\n                    content: 'Envoi message...',\r\n                });\r\n                _this.loading.present();\r\n                Promise.all(tab).then(function (rep) {\r\n                    _this.loading.dismissAll();\r\n                    _this.presentToast(\"Messages envoyés!\");\r\n                }, function (errorResponse) {\r\n                    _this.loading.dismissAll();\r\n                    _this.constante.traiteErreur(errorResponse, _this);\r\n                });\r\n            }\r\n        });\r\n        alert.present().then(function () {\r\n            _this.categories_checkbox_open = true;\r\n        });\r\n    };\r\n    ;\r\n    BilanEvent.prototype.sms = function () {\r\n        console.log(\"SMS!\");\r\n        var options = {\r\n            replaceLineBreaks: false,\r\n            android: {\r\n                intent: ''\r\n            }\r\n        };\r\n        var tabSMS = new Array();\r\n        for (var _i = 0, _a = this.mouvements; _i < _a.length; _i++) {\r\n            var mouvement = _a[_i];\r\n            var phone = mouvement.userSource.phone;\r\n            if (phone == null)\r\n                continue;\r\n            phone = phone.replace(\" \", \"\");\r\n            tabSMS.push(this.smsProvider.send(phone, 'Salut ' + mouvement.userSource.prenom + '! Tu dois ' + mouvement.mouvement.montant + '€ à ' + mouvement.userCible.prenom + \" pour l'event \" + this.event.libelle + \" du \" + this.event.date, options));\r\n        }\r\n        return Promise.all(tabSMS);\r\n    };\r\n    ;\r\n    BilanEvent.prototype.messageCoMoneyTy = function () {\r\n        console.log(\"message!\");\r\n        var tabSMS = new Array();\r\n        for (var _i = 0, _a = this.mouvements; _i < _a.length; _i++) {\r\n            var mouvement = _a[_i];\r\n            var message = new Message();\r\n            message.emetteur = mouvement.userCible;\r\n            message.destinataire = mouvement.userSource;\r\n            message.date = new Date();\r\n            message.titre = \"Tu dois de l'argent!!!\";\r\n            message.message = 'Salut ' + mouvement.userSource.prenom + '! Tu dois ' + mouvement.mouvement.montant + '€ à ' + mouvement.userCible.prenom + \" pour l'event \" + this.event.libelle + \" du \" + this.event.date;\r\n            message.dejaLu = false;\r\n            var messageRest = this.restangular.copy(message);\r\n            messageRest.route = \"message\";\r\n            tabSMS.push(messageRest.save().toPromise());\r\n        }\r\n        return Promise.all(tabSMS);\r\n    };\r\n    ;\r\n    return BilanEvent;\r\n}());\r\nBilanEvent = __decorate([\r\n    Component({\r\n        selector: 'bilan-event',\r\n        templateUrl: 'cmy-bilan-event.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _d || Object, typeof (_e = typeof SMS !== \"undefined\" && SMS) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _g || Object, typeof (_h = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _h || Object, typeof (_j = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _j || Object, typeof (_k = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _k || Object])\r\n], BilanEvent);\r\nexport { BilanEvent };\r\n;\r\nvar MouvementAvecUser = (function () {\r\n    function MouvementAvecUser() {\r\n    }\r\n    return MouvementAvecUser;\r\n}());\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n//# sourceMappingURL=cmy-bilan-event.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-bilan-event/cmy-bilan-event.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, NavParams, ModalController, AlertController, ToastController } from 'ionic-angular';\r\nimport { SMS } from '@ionic-native/sms';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Depense, Mouvement } from '../cmy-model/cmy.model';\r\nimport { AjoutParticipantPage } from '../cmy-ajout-participant/cmy-ajout-participant';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { CreationDepensePage } from \"../cmy-creation-depense/cmy-creation-depense\";\r\nimport { ModalChoixOperation } from \"../cmy-modal/modal-choix-operation\";\r\nimport { ListeDepense } from \"../cmy-liste-depense/cmy-liste-depense\";\r\nimport { BilanEvent } from \"../cmy-bilan-event/cmy-bilan-event\";\r\nvar DetailEventPage = (function () {\r\n    function DetailEventPage(nav, loadingCtrl, toastCtrl, alertCtrl, constante, restangular, navParams, modalController, smsProvider) {\r\n        this.nav = nav;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.toastCtrl = toastCtrl;\r\n        this.alertCtrl = alertCtrl;\r\n        this.constante = constante;\r\n        this.restangular = restangular;\r\n        this.navParams = navParams;\r\n        this.modalController = modalController;\r\n        this.smsProvider = smsProvider;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = navParams.get(\"theEvent\");\r\n    }\r\n    DetailEventPage.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // Lecture des participants de cet event\r\n        this.restangular.all('event/' + this.event.id + '/users').getList().subscribe(function (particpants) {\r\n            _this.participants = particpants;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    DetailEventPage.prototype.addNewParticipant = function () {\r\n        if (this.event.etat != \"Ouvert\") {\r\n            this.presentToast(\"L'event n'est plus ouvert... Impossible de modifier les participants!\");\r\n            return;\r\n        }\r\n        ;\r\n        if (this.event.roles.indexOf(\"Createur\") < 0) {\r\n            this.constante.presentToast(\"Seul le créateur peut modifier les participants!\");\r\n            return;\r\n        }\r\n        ;\r\n        this.nav.push(AjoutParticipantPage, { theEvent: this.event, participantsEvent: this.participants }).then(function (end) {\r\n        });\r\n    };\r\n    DetailEventPage.prototype.rechercheOperation = function () {\r\n        var _this = this;\r\n        if (this.event.etat != \"Ouvert\") {\r\n            this.presentToast(\"L'event n'est plus ouvert... Impossible d'ajouter des dépenses!\");\r\n            return;\r\n        }\r\n        var modal = this.modalController.create(ModalChoixOperation, { 'theEvent': this.event });\r\n        modal.onDidDismiss(function (operationAvecDepense) {\r\n            if (operationAvecDepense == null)\r\n                return;\r\n            _this.loading = _this.loadingCtrl.create({\r\n                content: 'Enregistrement...',\r\n            });\r\n            _this.loading.present();\r\n            var operation = operationAvecDepense.operation;\r\n            var depense = new Depense(_this.constante.user.id, _this.event.id);\r\n            depense.idOperation = operation.id;\r\n            depense.montant = -operation.montant;\r\n            depense.commentaire = operation.description;\r\n            depense.date = operation.date;\r\n            _this.restangular.one(\"depense\").post(\"save\", depense).subscribe(function (resp) {\r\n                // Ajout à la liste\r\n                _this.loading.dismissAll();\r\n                console.log(\"dépense sauvée\");\r\n                depense.id = resp.id;\r\n                var montant = depense.montant / _this.participants.length;\r\n                for (var _i = 0, _a = _this.participants; _i < _a.length; _i++) {\r\n                    var participant = _a[_i];\r\n                    if (participant.user.id != depense.idPayeur)\r\n                        participant.doit += montant;\r\n                    else {\r\n                        participant.aPaye += depense.montant;\r\n                        participant.doit -= depense.montant - montant;\r\n                    }\r\n                }\r\n                _this.event.montantTotal += depense.montant;\r\n                _this.event.montantDepense += depense.montant;\r\n                for (var _b = 0, _c = _this.participants; _b < _c.length; _b++) {\r\n                    var participant = _c[_b];\r\n                    if (participant.user.id == _this.constante.user.id)\r\n                        _this.event.montantDu = participant.doit;\r\n                }\r\n                _this.constante.touchEvent(_this.event);\r\n            }, function (errorResponse) {\r\n                _this.constante.traiteErreur(errorResponse, _this);\r\n            });\r\n        });\r\n        modal.present();\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.ajouteDepense = function () {\r\n        if (this.event.etat != \"Ouvert\") {\r\n            this.presentToast(\"L'event n'est plus ouvert... Impossible d'ajouter des dépenses!\");\r\n            return;\r\n        }\r\n        this.nav.push(CreationDepensePage, { theEvent: this.event, theParticipants: this.participants });\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.donneArgent = function (participant) {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            title: 'Payer ' + participant.user.prenom,\r\n            message: 'Quel montant avez-vous donner à ' + participant.user.prenom + '?',\r\n            inputs: [\r\n                {\r\n                    name: 'montant',\r\n                    placeholder: 'Montant en €'\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    text: 'Annuler',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Confirmer',\r\n                    handler: function (data) {\r\n                        _this.loading = _this.loadingCtrl.create();\r\n                        _this.loading.present();\r\n                        // On va créer un mouvement\r\n                        var mvt = new Mouvement(_this.constante.user.id, _this.event.id);\r\n                        mvt.commentaire = \"Argent donné\";\r\n                        mvt.date = new Date();\r\n                        mvt.idDestinataire = participant.user.id;\r\n                        mvt.etat = \"Réalisé\";\r\n                        mvt.montant = data.montant;\r\n                        var mvtRest = _this.restangular.copy(mvt);\r\n                        mvtRest.route = \"mouvement\";\r\n                        mvtRest.save().toPromise().then(function (rep) {\r\n                            _this.loading.dismissAll();\r\n                            _this.presentToast(\"Argent envoyé!\");\r\n                            // Recalcul des montatns par particpant\r\n                            for (var _i = 0, _a = _this.participants; _i < _a.length; _i++) {\r\n                                var participant_1 = _a[_i];\r\n                                if (participant_1.user.id == rep.idDestinataire) {\r\n                                    participant_1.doit += rep.montant;\r\n                                    participant_1.aPaye -= rep.montant;\r\n                                }\r\n                                if (participant_1.user.id == rep.idEmetteur) {\r\n                                    participant_1.doit -= rep.montant;\r\n                                    participant_1.aPaye += rep.montant;\r\n                                }\r\n                            }\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.sms = function (participant) {\r\n        var _this = this;\r\n        console.log(\"SMS!\");\r\n        var options = {\r\n            replaceLineBreaks: false,\r\n            android: {\r\n                intent: 'INTENT'\r\n            }\r\n        };\r\n        this.smsProvider.send(\"0682667921\", 'Ca roule?', options).then(function (rep) {\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.interaction = function (participant) {\r\n        console.log(\"interaction!\");\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.phone = function (participant) {\r\n        var _this = this;\r\n        console.log(\"SMS!\");\r\n        var options = {\r\n            replaceLineBreaks: false,\r\n            android: {\r\n                intent: ''\r\n            }\r\n        };\r\n        this.smsProvider.send(\"0682667921\", 'Ca roulegggg?', options).then(function (rep) {\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.showDepense = function () {\r\n        this.nav.push(ListeDepense, { theEvent: this.event, theParticipants: this.participants });\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.bilan = function () {\r\n        this.nav.push(BilanEvent, { theEvent: this.event, theParticipants: this.participants });\r\n    };\r\n    ;\r\n    DetailEventPage.prototype.toggleRole = function (participant) {\r\n        var _this = this;\r\n        if (this.event.roles.indexOf(\"Createur\") < 0) {\r\n            this.constante.presentToast(\"Seul le créateur peut modifier les participants!\");\r\n            return;\r\n        }\r\n        ;\r\n        // Bascule du role createur\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        this.restangular.one(\"event/\" + this.event.id + \"/\" + participant.user.id + \"/toggleRole\").get().subscribe(function (lien) {\r\n            // console.log(lien);\r\n            participant.roles = lien.roles;\r\n            _this.loading.dismissAll();\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    return DetailEventPage;\r\n}());\r\nDetailEventPage = __decorate([\r\n    Component({\r\n        selector: 'detail-event-page',\r\n        templateUrl: 'cmy-detail-event.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _c || Object, typeof (_d = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _d || Object, typeof (_e = typeof Constante !== \"undefined\" && Constante) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _g || Object, typeof (_h = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _h || Object, typeof (_j = typeof SMS !== \"undefined\" && SMS) === \"function\" && _j || Object])\r\n], DetailEventPage);\r\nexport { DetailEventPage };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n//# sourceMappingURL=cmy-detail-event.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-detail-event/cmy-detail-event.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController, ModalController, NavParams, ToastController } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport 'rxjs/Rx';\r\nimport { Event, Constante } from '../cmy-model/cmy.model';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { ModalPhoto } from '../cmy-modal/modal-photo';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar CreationEventPage = (function () {\r\n    function CreationEventPage(nav, loadingCtrl, modalCtrl, constante, restangular, alertCtrl, camera, params, toastCtrl) {\r\n        this.nav = nav;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.modalCtrl = modalCtrl;\r\n        this.constante = constante;\r\n        this.restangular = restangular;\r\n        this.alertCtrl = alertCtrl;\r\n        this.camera = camera;\r\n        this.params = params;\r\n        this.toastCtrl = toastCtrl;\r\n        this.imageUrl = null;\r\n        this.imageDataCamera = null;\r\n        this.options = {\r\n            quality: 80,\r\n            sourceType: this.camera.PictureSourceType.CAMERA,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.PNG,\r\n            saveToPhotoAlbum: false,\r\n            targetWidth: 200,\r\n            targetHeight: 200\r\n        };\r\n        this.creationEventForm = new FormGroup({\r\n            titre: new FormControl('', Validators.compose([\r\n                Validators.required\r\n            ])),\r\n            date: new FormControl(new Date().toISOString(), Validators.compose([\r\n                Validators.required\r\n            ])),\r\n        });\r\n        this.event = new Event();\r\n        this.events = params.get(\"listeEvent\");\r\n    }\r\n    ;\r\n    // Create a new name for the image\r\n    CreationEventPage.prototype.createFileName = function () {\r\n        var d = new Date();\r\n        var n = d.getTime();\r\n        var newFileName = \"event/\" + this.constante.user.id + \"_\" + n + \".png\";\r\n        return newFileName;\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.saveEvent = function () {\r\n        var _this = this;\r\n        this.event.libelle = this.creationEventForm.get('titre').value;\r\n        this.event.date = this.creationEventForm.get('date').value;\r\n        if (this.imageDataCamera == null) {\r\n            // Pas de nouvelle photo\r\n            if (this.imageUrl == null) {\r\n                this.imageUrl = 'event/standard.png';\r\n            }\r\n        }\r\n        else {\r\n            // Nouvelle photo en envoyer\r\n            this.imageUrl = this.createFileName();\r\n            this.imageUrl += \"==\" + this.imageDataCamera;\r\n        }\r\n        this.event.urlPhoto = this.imageUrl;\r\n        this.loading = this.loadingCtrl.create({\r\n            content: 'Enregistrement...',\r\n        });\r\n        this.loading.present();\r\n        var eventRest = this.restangular.copy(this.event);\r\n        eventRest.route = \"event\";\r\n        eventRest.save().toPromise().then(function (resp) {\r\n            _this.loading.dismissAll();\r\n            _this.events.push(resp);\r\n            _this.loading.dismissAll();\r\n            _this.nav.pop();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.chooseCategory = function () {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            cssClass: 'category-prompt'\r\n        });\r\n        alert.setTitle('Categorie');\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Sortie',\r\n            value: 'sortie',\r\n            checked: true\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Soirée',\r\n            value: 'soirée'\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Coloc',\r\n            value: 'coloc'\r\n        });\r\n        alert.addButton('Annule');\r\n        alert.addButton({\r\n            text: 'OK',\r\n            handler: function (data) {\r\n                console.log('Checkbox data:', data);\r\n                _this.categories_checkbox_open = false;\r\n                _this.categories_checkbox_result = data;\r\n            }\r\n        });\r\n        alert.present().then(function () {\r\n            _this.categories_checkbox_open = true;\r\n        });\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.choosePhoto = function () {\r\n        var _this = this;\r\n        var modal = this.modalCtrl.create(ModalPhoto);\r\n        modal.onDidDismiss(function (data) {\r\n            console.log(data);\r\n            _this.imageUrl = data;\r\n        });\r\n        modal.present();\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.takePhoto = function () {\r\n        var _this = this;\r\n        this.options.sourceType = this.camera.PictureSourceType.CAMERA;\r\n        this.camera.getPicture(this.options).then(function (imageData) {\r\n            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.chooseGallery = function () {\r\n        var _this = this;\r\n        this.options.sourceType = this.camera.PictureSourceType.PHOTOLIBRARY;\r\n        this.camera.getPicture(this.options).then(function (imageData) {\r\n            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    CreationEventPage.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    ;\r\n    return CreationEventPage;\r\n}());\r\nCreationEventPage = __decorate([\r\n    Component({\r\n        selector: 'creation-event-page',\r\n        templateUrl: 'cmy-creation-event.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof Constante !== \"undefined\" && Constante) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _f || Object, typeof (_g = typeof Camera !== \"undefined\" && Camera) === \"function\" && _g || Object, typeof (_h = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _h || Object, typeof (_j = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _j || Object])\r\n], CreationEventPage);\r\nexport { CreationEventPage };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n//# sourceMappingURL=cmy-creation-event.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-creation-event/cmy-creation-event.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { Constante } from \"../../pages/cmy-model/cmy.model\";\r\nvar MenuCircular = (function () {\r\n    function MenuCircular(constante) {\r\n        this.constante = constante;\r\n        this.openMenu = false;\r\n        this.visible = false;\r\n        this.buttons = new Array();\r\n    }\r\n    MenuCircular.prototype.close = function () {\r\n        this.visible = false;\r\n        //  this.parent.cover.nativeElement.style.display=\"none\";\r\n        this.openMenu = false;\r\n        this.parent.visible = false;\r\n    };\r\n    MenuCircular.prototype.action = function (button) {\r\n        console.log(\"Go sur \" + button.sousMenu.action);\r\n        var fonction = button.sousMenu.action;\r\n        fonction.call(this.parent, this.objet);\r\n    };\r\n    MenuCircular.prototype.config = function (sousmenus) {\r\n        for (var _i = 0, sousmenus_1 = sousmenus; _i < sousmenus_1.length; _i++) {\r\n            var sousmenu = sousmenus_1[_i];\r\n            var button = new Button(sousmenu);\r\n            this.buttons.push(button);\r\n        }\r\n        var i = 0;\r\n        var l = this.buttons.length;\r\n        for (var _a = 0, _b = this.buttons; _a < _b.length; _a++) {\r\n            var button = _b[_a];\r\n            button.left = (50 - 35 * Math.cos(-0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + \"%\";\r\n            button.top = (50 + 35 * Math.sin(-0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + \"%\";\r\n            i++;\r\n        }\r\n    };\r\n    MenuCircular.prototype.show = function (parent, obj, urlPhoto) {\r\n        this.parent = parent;\r\n        this.visible = true;\r\n        //   this.parent.cover.nativeElement.style.display=\"block\";\r\n        this.objet = obj;\r\n        this.photo = urlPhoto;\r\n        this.openMenu = false;\r\n    };\r\n    MenuCircular.prototype.hide = function () {\r\n        this.visible = false;\r\n    };\r\n    MenuCircular.prototype.toggle = function () {\r\n        this.openMenu = !this.openMenu;\r\n    };\r\n    MenuCircular.prototype.blockEvent = function () {\r\n        console.log(\"Il faut bloquer!!!\");\r\n        //    this.parent.cover.nativeElement.style.display=\"none\";\r\n        this.hide();\r\n    };\r\n    return MenuCircular;\r\n}());\r\nMenuCircular = __decorate([\r\n    Component({\r\n        selector: 'menu-circular',\r\n        templateUrl: 'menu-circular.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Constante !== \"undefined\" && Constante) === \"function\" && _a || Object])\r\n], MenuCircular);\r\nexport { MenuCircular };\r\nvar SousMenu = (function () {\r\n    function SousMenu(libelle, action, icon) {\r\n        this.libelle = libelle;\r\n        this.action = action;\r\n        this.icon = icon;\r\n    }\r\n    return SousMenu;\r\n}());\r\nexport { SousMenu };\r\nvar Button = (function () {\r\n    function Button(sm) {\r\n        this.sousMenu = sm;\r\n    }\r\n    Button.prototype.getStyle = function () {\r\n        return { 'top': this.top, 'left': this.left };\r\n    };\r\n    return Button;\r\n}());\r\nvar _a;\r\n//# sourceMappingURL=menu-circular.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu-circular/menu-circular.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController, NavParams } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar ListeHistorique = (function () {\r\n    function ListeHistorique(nav, constante, loadingCtrl, navParams, alertCtrl, restangular, alertController) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.navParams = navParams;\r\n        this.alertCtrl = alertCtrl;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.event = this.navParams.get(\"theEvent\");\r\n    }\r\n    ;\r\n    ListeHistorique.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // This will query /accounts and return a observable.\r\n        this.restangular.all('event/' + this.event.id + '/historique').getList().subscribe(function (histo) {\r\n            console.log(histo);\r\n            _this.historiques = histo;\r\n            _this.loading.dismissAll();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    return ListeHistorique;\r\n}());\r\nListeHistorique = __decorate([\r\n    Component({\r\n        selector: 'liste-historique',\r\n        templateUrl: 'cmy-liste-historique.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _g || Object])\r\n], ListeHistorique);\r\nexport { ListeHistorique };\r\nvar _a, _b, _c, _d, _e, _f, _g;\r\n//# sourceMappingURL=cmy-liste-historique.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-liste-historique/cmy-liste-historique.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, LoadingController, ToastController, AlertController } from 'ionic-angular';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { WalkthroughPage } from '../walkthrough/walkthrough';\r\nimport 'rxjs/Rx';\r\nimport { User } from \"../cmy-model/cmy.model\";\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Camera } from \"@ionic-native/camera\";\r\nimport CryptoJS from 'crypto-js';\r\nvar GestionProfile = (function () {\r\n    function GestionProfile(nav, modal, camera, loadingCtrl, toastCtrl, alertController, constante, restangular) {\r\n        this.nav = nav;\r\n        this.modal = modal;\r\n        this.camera = camera;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.toastCtrl = toastCtrl;\r\n        this.alertController = alertController;\r\n        this.constante = constante;\r\n        this.restangular = restangular;\r\n        // make WalkthroughPage the root (or first) page\r\n        this.rootPage = WalkthroughPage;\r\n        this.imageDataCamera = null;\r\n        this.options = {\r\n            quality: 80,\r\n            sourceType: this.camera.PictureSourceType.CAMERA,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.PNG,\r\n            saveToPhotoAlbum: false,\r\n            targetWidth: 200,\r\n            targetHeight: 200\r\n        };\r\n        this.loading = this.loadingCtrl.create();\r\n        this.user = this.constante.user;\r\n        this.settingsForm = new FormGroup({\r\n            email: new FormControl(this.user.email, Validators.compose([Validators.required, Validators.minLength(5), Validators.pattern(\"[a-z0-9.-_]+@[a-z.]+\")])),\r\n            phone: new FormControl(this.user.phone, Validators.compose([Validators.required, Validators.minLength(10), Validators.pattern(\"^(?:(?:\\\\+|00)33|0)\\\\s*[1-9](?:[\\\\s.-]*\\\\d{2}){4}$\")])),\r\n            nom: new FormControl(this.user.nom, Validators.compose([Validators.required, Validators.minLength(5)])),\r\n            prenom: new FormControl(this.user.prenom, Validators.compose([Validators.required, Validators.minLength(3)])),\r\n            password: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)])),\r\n            confirm_password: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)])),\r\n            iban: new FormControl(this.user.iban, Validators.required),\r\n            currency: new FormControl(\"euro\"),\r\n            notifications: new FormControl(true),\r\n            toogleCodeSecu: new FormControl(true),\r\n            codecourt: new FormControl(this.user.codecourt, Validators.compose([Validators.required, Validators.minLength(4), Validators.required, Validators.maxLength(4), Validators.pattern(\"^[0-9]{4}$\")])),\r\n        });\r\n        if (this.user.codecourt == null || this.user.codecourt.length == 0) {\r\n            this.settingsForm.get(\"toogleCodeSecu\").setValue(false);\r\n        }\r\n    }\r\n    GestionProfile.prototype.ionViewDidLoad = function () {\r\n    };\r\n    GestionProfile.prototype.createFileName = function () {\r\n        var d = new Date();\r\n        var n = d.getTime();\r\n        var newFileName = \"user/\" + this.constante.user.id + \"_\" + n + \".png\";\r\n        return newFileName;\r\n    };\r\n    GestionProfile.prototype.changePhoto = function () {\r\n        var _this = this;\r\n        var alert = this.alertController.create({\r\n            title: 'Modifier votre photo',\r\n            message: \"Voulez-vous :\",\r\n            buttons: [\r\n                {\r\n                    text: 'Prendre une photo',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        _this.takePhoto().then(function (imageData) {\r\n                            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n                            var nomFichier = _this.createFileName();\r\n                            _this.user.urlAvatar = nomFichier + \"==\" + _this.imageDataCamera;\r\n                            // Envoi de la photo\r\n                        }, function (err) {\r\n                            _this.constante.traiteErreur(err, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Choisir dans votre galerie',\r\n                    handler: function () {\r\n                        _this.chooseGallery().then(function (imageData) {\r\n                            _this.imageDataCamera = \"data:image/png;base64,\" + imageData;\r\n                            var nomFichier = _this.createFileName();\r\n                            _this.user.urlAvatar = nomFichier + \"==\" + _this.imageDataCamera;\r\n                        }, function (err) {\r\n                            _this.constante.traiteErreur(err, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Ne rien faire',\r\n                    handler: function () {\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    GestionProfile.prototype.takePhoto = function () {\r\n        this.options.sourceType = this.camera.PictureSourceType.CAMERA;\r\n        return this.camera.getPicture(this.options);\r\n    };\r\n    ;\r\n    GestionProfile.prototype.chooseGallery = function () {\r\n        this.options.sourceType = this.camera.PictureSourceType.PHOTOLIBRARY;\r\n        return this.camera.getPicture(this.options);\r\n    };\r\n    ;\r\n    GestionProfile.prototype.logout = function () {\r\n        // navigate to the new page if it is not the current page\r\n        this.constante.user = new User();\r\n        this.nav.setRoot(this.rootPage);\r\n    };\r\n    ;\r\n    GestionProfile.prototype.save = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        var user = this.restangular.copy(this.user);\r\n        user.route = \"user\";\r\n        user.password = this.settingsForm.get(\"password\").value;\r\n        var passconf = this.settingsForm.get(\"confirm_password\").value;\r\n        if (passconf != user.password) {\r\n            this.constante.presentToast(\"Les mots de passe sont différents!\");\r\n            this.settingsForm.get(\"confirm_password\").markAsDirty();\r\n            return;\r\n        }\r\n        user.email = this.settingsForm.get(\"email\").value;\r\n        user.phone = this.settingsForm.get(\"phone\").value;\r\n        user.iban = this.settingsForm.get(\"iban\").value;\r\n        user.nom = this.settingsForm.get(\"nom\").value;\r\n        user.prenom = this.settingsForm.get(\"prenom\").value;\r\n        user.codecourt = this.settingsForm.get(\"codecourt\").value;\r\n        if (!this.settingsForm.get(\"toogleCodeSecu\").value) {\r\n            user.codecourt = \"\";\r\n        }\r\n        user.save().toPromise().then(function (resp) {\r\n            _this.constante.user = resp;\r\n            if (resp.codecourt == null || resp.codecourt.length == 0) {\r\n                localStorage.removeItem(\"codecourt\");\r\n            }\r\n            else {\r\n                var derivedKey = CryptoJS.PBKDF2(resp.codecourt, \"AlwaysTheSameSalt\", {\r\n                    keySize: 512 / 32,\r\n                    iterations: 5\r\n                }).toString();\r\n                localStorage.setItem(\"codecourt\", derivedKey);\r\n            }\r\n            _this.loading.dismissAll();\r\n        }, function (err) {\r\n            _this.constante.traiteErreur(err, _this);\r\n        });\r\n    };\r\n    ;\r\n    return GestionProfile;\r\n}());\r\nGestionProfile = __decorate([\r\n    Component({\r\n        selector: 'gestion-profile',\r\n        templateUrl: 'cmy-gestion-profile.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _b || Object, typeof (_c = typeof Camera !== \"undefined\" && Camera) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _e || Object, typeof (_f = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _f || Object, typeof (_g = typeof Constante !== \"undefined\" && Constante) === \"function\" && _g || Object, typeof (_h = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _h || Object])\r\n], GestionProfile);\r\nexport { GestionProfile };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=cmy-gestion-profile.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-gestion-profile/cmy-gestion-profile.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { DetailEventPage } from '../cmy-detail-event/cmy-detail-event';\r\nimport { CreationEventPage } from '../cmy-creation-event/cmy-creation-event';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { MenuCircular, SousMenu } from \"../../components/menu-circular/menu-circular\";\r\nimport { ListeHistorique } from \"../cmy-liste-historique/cmy-liste-historique\";\r\nimport { GestionProfile } from \"../cmy-gestion-profile/cmy-gestion-profile\";\r\nvar ListeEvent = (function () {\r\n    function ListeEvent(nav, constante, loadingCtrl, alertCtrl, restangular, alertController) {\r\n        var _this = this;\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertCtrl = alertCtrl;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.visible = false;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.visible = false;\r\n        this.filtreEtat = new Array();\r\n        this.filtreEtat.push(\"Ouvert\");\r\n        this.filtreEtat.push(\"En cours de solde\");\r\n        this.constante.eventChange.subscribe(function (newEvent) {\r\n            console.log(\"TouchEvent!\");\r\n            _this.calculResume(newEvent);\r\n        });\r\n    }\r\n    ;\r\n    ListeEvent.prototype.filtreType = function () {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            cssClass: 'category-prompt'\r\n        });\r\n        alert.setTitle('Filtre par type');\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'En cours',\r\n            value: 'Ouvert',\r\n            checked: this.filtreEtat.indexOf('Ouvert') > -1\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'En cours de solde',\r\n            value: 'En cours de solde',\r\n            checked: this.filtreEtat.indexOf('En cours de solde') > -1\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Clos',\r\n            value: 'Clos',\r\n            checked: this.filtreEtat.indexOf('Clos') > -1\r\n        });\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Annulé',\r\n            value: 'Annulé',\r\n            checked: this.filtreEtat.indexOf('Annulé') > -1\r\n        });\r\n        alert.addButton('Annule');\r\n        alert.addButton({\r\n            text: 'OK',\r\n            handler: function (data) {\r\n                console.log('Checkbox data:', data);\r\n                _this.filtreEtat = data;\r\n                _this.filtreEvent(_this.valeurFiltre);\r\n            }\r\n        });\r\n        alert.present().then(function (res) {\r\n            console.log(res);\r\n        });\r\n    };\r\n    ;\r\n    ListeEvent.prototype.calculResume = function (newEvent) {\r\n        this.depenseTotale = 0;\r\n        if (this.events == null)\r\n            return;\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var event = _a[_i];\r\n            if (newEvent != null && newEvent.id == event.id) {\r\n                event.montantDu = newEvent.montantDu;\r\n                event.montantDepense = newEvent.montantDepense;\r\n                event.montantTotal = newEvent.montantTotal;\r\n            }\r\n            if (event.montantDu > 0)\r\n                this.depenseTotale += event.montantDu;\r\n        }\r\n    };\r\n    ListeEvent.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        console.log(this.constante.BASE_URL_REST);\r\n        // This will query /accounts and return a observable.\r\n        this.restangular.all('user/' + this.constante.user.id + '/events').getList().subscribe(function (events) {\r\n            _this.events = events;\r\n            _this.eventsComplet = events;\r\n            _this.calculResume(null);\r\n            _this.filtreEvent(\"\");\r\n            _this.loading.dismiss();\r\n            if (_this.constante.user.phone == null || _this.constante.user.phone.length < 5) {\r\n                if (events.log() == 0) {\r\n                    var alert = _this.alertController.create({\r\n                        title: 'Votre profil est incomplet (Téléphone!)',\r\n                        message: \"Voulez-vous accéder directement à votre profil pour le compléter?\",\r\n                        buttons: [\r\n                            {\r\n                                text: 'Oui',\r\n                                role: 'cancel',\r\n                                handler: function () {\r\n                                    _this.nav.push(GestionProfile);\r\n                                }\r\n                            },\r\n                            {\r\n                                text: 'Non',\r\n                                handler: function () {\r\n                                }\r\n                            }\r\n                        ]\r\n                    });\r\n                    alert.present();\r\n                }\r\n            }\r\n            ;\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n        var sousmenus = new Array();\r\n        sousmenus.push(new SousMenu(\"Fermer\", this.close, \"home\"));\r\n        sousmenus.push(new SousMenu(\"Annuler\", this.trash, \"trash\"));\r\n        sousmenus.push(new SousMenu(\"Copier\", this.copy, \"copy\"));\r\n        sousmenus.push(new SousMenu(\"Log\", this.log, \"list\"));\r\n        sousmenus.push(new SousMenu(\"Quitter\", this.closeMenu, \"close\"));\r\n        this.menu.config(sousmenus);\r\n    };\r\n    ListeEvent.prototype.createNewEvent = function () {\r\n        console.log(\"Creation Event!\");\r\n        this.nav.push(CreationEventPage, { listeEvent: this.events });\r\n    };\r\n    ListeEvent.prototype.trash = function (eventSelectionne) {\r\n        var _this = this;\r\n        if (eventSelectionne.roles.indexOf(\"Createur\") < 0) {\r\n            this.constante.presentToast(\"Seul le créateur peut annuler un event!\");\r\n            return;\r\n        }\r\n        ;\r\n        var alert = this.alertController.create({\r\n            title: \"Supprimer l'event?\",\r\n            message: \"Confirmez-vous que vous voulez supprimer cet event?\",\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        // On bascule juste le mouvement en \"effectué\"\r\n                        console.log(\"annulation de \" + eventSelectionne.id);\r\n                        var eventRest = _this.restangular.copy(eventSelectionne);\r\n                        eventRest.route = \"event\";\r\n                        eventRest.etat = \"Annulé\";\r\n                        _this.loading = _this.loadingCtrl.create();\r\n                        _this.loading.present();\r\n                        eventRest.save().toPromise().then(function (resp) {\r\n                            _this.loading.dismissAll();\r\n                            eventSelectionne.etat = \"Annulé\";\r\n                            _this.menu.close();\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Non',\r\n                    handler: function () {\r\n                        console.log(\"Abandon\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    ListeEvent.prototype.log = function (eventSelectionne) {\r\n        this.menu.close();\r\n        this.nav.push(ListeHistorique, { theEvent: eventSelectionne });\r\n    };\r\n    ;\r\n    ListeEvent.prototype.close = function (eventSelectionne) {\r\n        var _this = this;\r\n        if (eventSelectionne.roles.indexOf(\"Createur\") < 0) {\r\n            this.constante.presentToast(\"Seul le créateur peut annuler un event!\");\r\n            return;\r\n        }\r\n        ;\r\n        var alert = this.alertController.create({\r\n            title: \"Fermer l'event?\",\r\n            message: \"Confirmez-vous que vous voulez fermer cet event?\",\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        console.log(\"Fermeture de \" + eventSelectionne.id);\r\n                        var eventRest = _this.restangular.copy(eventSelectionne);\r\n                        eventRest.route = \"event\";\r\n                        eventRest.etat = \"Clos\";\r\n                        eventRest.save().toPromise().then();\r\n                        _this.loading = _this.loadingCtrl.create();\r\n                        _this.loading.present();\r\n                        eventRest.save().toPromise().then(function (resp) {\r\n                            _this.loading.dismissAll();\r\n                            eventSelectionne.etat = \"Clos\";\r\n                            _this.menu.close();\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Non',\r\n                    handler: function () {\r\n                        console.log(\"Abandon\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    ListeEvent.prototype.showMenu = function (event) {\r\n        this.visible = true;\r\n        this.menu.show(this, event, event.urlPhoto);\r\n        this.menu.toggle();\r\n    };\r\n    ;\r\n    ListeEvent.prototype.closeMenu = function () {\r\n        this.visible = false;\r\n        this.menu.toggle();\r\n        this.menu.close();\r\n    };\r\n    ;\r\n    ListeEvent.prototype.copy = function (event) {\r\n        console.log(\"Copy de EVENT : \" + event.libelle);\r\n    };\r\n    ;\r\n    ListeEvent.prototype.open = function (eventSelectionne) {\r\n        console.log(\"Ouverture de \" + eventSelectionne.id);\r\n        this.nav.push(DetailEventPage, { theEvent: eventSelectionne });\r\n    };\r\n    ;\r\n    ListeEvent.prototype.filtreEvent = function (val) {\r\n        var _this = this;\r\n        console.log('Filtre');\r\n        this.valeurFiltre = val;\r\n        // if the value is an empty string don't filter the items\r\n        this.events = this.eventsComplet.filter(function (item) {\r\n            var bool1 = true;\r\n            var bool2 = true;\r\n            if (val && val.trim() != '') {\r\n                bool1 = JSON.stringify(item).toLocaleLowerCase().indexOf(val.toLowerCase()) > -1;\r\n            }\r\n            if (_this.filtreEtat != null && _this.filtreEtat.length > 0)\r\n                bool2 = _this.filtreEtat.indexOf(item.etat) > -1;\r\n            return bool1 && bool2;\r\n        });\r\n        this.calculResume(null);\r\n    };\r\n    ;\r\n    ListeEvent.prototype.blockEvent = function () {\r\n        console.log(\"Il faut bloquer!!!\");\r\n        //    this.parent.cover.nativeElement.style.display=\"none\";\r\n        this.visible = false;\r\n    };\r\n    ;\r\n    return ListeEvent;\r\n}());\r\n__decorate([\r\n    ViewChild('menu'),\r\n    __metadata(\"design:type\", typeof (_a = typeof MenuCircular !== \"undefined\" && MenuCircular) === \"function\" && _a || Object)\r\n], ListeEvent.prototype, \"menu\", void 0);\r\nListeEvent = __decorate([\r\n    Component({\r\n        selector: 'liste-event',\r\n        templateUrl: 'cmy-liste-event.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_b = typeof NavController !== \"undefined\" && NavController) === \"function\" && _b || Object, typeof (_c = typeof Constante !== \"undefined\" && Constante) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _g || Object])\r\n], ListeEvent);\r\nexport { ListeEvent };\r\nvar _a, _b, _c, _d, _e, _f, _g;\r\n//# sourceMappingURL=cmy-liste-event.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-liste-event/cmy-liste-event.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nvar FacebookLoginService = (function () {\r\n    function FacebookLoginService(http, nativeStorage, fb) {\r\n        this.http = http;\r\n        this.nativeStorage = nativeStorage;\r\n        this.fb = fb;\r\n        // FB_APP_ID: number = 826720427470540;\r\n        this.FB_APP_ID = 712043742320271;\r\n        this.fb.browserInit(this.FB_APP_ID, \"v2.11\");\r\n    }\r\n    FacebookLoginService.prototype.doFacebookLogin = function () {\r\n        var _this = this;\r\n        var env = this;\r\n        return new Promise(function (resolve, reject) {\r\n            //[\"public_profile\"] is the array of permissions, you can add more if you need\r\n            _this.fb.login([\"public_profile\"]).then(function (response) {\r\n                //Getting name and gender properties\r\n                var request = \"/me?fields=name,gender,email\";\r\n                env.fb.api(request, [])\r\n                    .then(function (user) {\r\n                    //now we have the users info, let's save it in the NativeStorage\r\n                    console.log(user);\r\n                    var fb_user = {\r\n                        userId: user.id,\r\n                        email: user.email,\r\n                        name: user.name,\r\n                        gender: user.gender,\r\n                        image: \"https://graph.facebook.com/\" + user.id + \"/picture?type=large\",\r\n                        friends: null,\r\n                        photos: null\r\n                    };\r\n                    env.nativeStorage.setItem('facebook_user', fb_user).then(function (rep) {\r\n                        resolve(rep);\r\n                    }, function (error) {\r\n                        reject(error);\r\n                    });\r\n                });\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n    };\r\n    FacebookLoginService.prototype.doFacebookLogout = function () {\r\n        var _this = this;\r\n        var env = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.fb.logout()\r\n                .then(function (res) {\r\n                //user logged out so we will remove him from the NativeStorage\r\n                env.nativeStorage.remove('facebook_user');\r\n                resolve();\r\n            }, function (error) {\r\n                reject();\r\n            });\r\n        });\r\n    };\r\n    FacebookLoginService.prototype.getFacebookUser = function () {\r\n        return this.nativeStorage.getItem('facebook_user');\r\n    };\r\n    FacebookLoginService.prototype.handleError = function (error) {\r\n        console.error('An error occurred', error); // for demo purposes only\r\n        return Promise.reject(error.message || error);\r\n    };\r\n    return FacebookLoginService;\r\n}());\r\nFacebookLoginService = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Http !== \"undefined\" && Http) === \"function\" && _a || Object, typeof (_b = typeof NativeStorage !== \"undefined\" && NativeStorage) === \"function\" && _b || Object, typeof (_c = typeof Facebook !== \"undefined\" && Facebook) === \"function\" && _c || Object])\r\n], FacebookLoginService);\r\nexport { FacebookLoginService };\r\nvar _a, _b, _c;\r\n//# sourceMappingURL=facebook-login.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/facebook-login.service.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nvar GoogleLoginService = (function () {\r\n    function GoogleLoginService(http, nativeStorage, googlePlus) {\r\n        this.http = http;\r\n        this.nativeStorage = nativeStorage;\r\n        this.googlePlus = googlePlus;\r\n        //webClientId: string = \"1001905109734-cnkoa7unjev55lii0rftbfm0kvb37gqr.apps.googleusercontent.com\";\r\n        // webClientId: string = \"272824026885-hv3ivie6j8iv86gt2aj1q2fb4cqf03po.apps.googleusercontent.com\";\r\n        // ou bien webClientId: string = \"144202714235-r2f4grqrnl9obs93d26mv4a50hg9d9na.apps.googleusercontent.com\"\r\n        this.webClientId = \"144202714235-fn6dv72gusevj4verqnmlve1jjh29mt8.apps.googleusercontent.com\";\r\n    }\r\n    GoogleLoginService.prototype.trySilentLogin = function () {\r\n        var _this = this;\r\n        //checks if user is already signed in to the app and sign them in silently if they are.\r\n        var env = this;\r\n        return new Promise(function (resolve, reject) {\r\n            env.googlePlus.trySilentLogin({\r\n                'scopes': '',\r\n                'webClientId': _this.webClientId,\r\n                'offline': true\r\n            })\r\n                .then(function (user) {\r\n                //now we have the users info, let's save it in the NativeStorage\r\n                console.log(user);\r\n                var google_user = {\r\n                    userId: user.userId,\r\n                    email: user.email,\r\n                    name: user.displayName,\r\n                    image: user.imageUrl,\r\n                    friends: null,\r\n                    photos: null\r\n                };\r\n                env.nativeStorage.setItem('google_user', google_user).then(function (rep) {\r\n                    resolve(rep);\r\n                }, function (error) {\r\n                    reject(error);\r\n                });\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n    };\r\n    GoogleLoginService.prototype.doGoogleLogin = function () {\r\n        var _this = this;\r\n        var env = this;\r\n        return new Promise(function (resolve, reject) {\r\n            env.googlePlus.login({\r\n                'scopes': '',\r\n                'webClientId': _this.webClientId,\r\n                'offline': true\r\n            })\r\n                .then(function (user) {\r\n                console.log(user);\r\n                var google_user = {\r\n                    userId: user.userId,\r\n                    email: user.email,\r\n                    name: user.displayName,\r\n                    image: user.imageUrl,\r\n                    friends: null,\r\n                    photos: null\r\n                };\r\n                env.nativeStorage.setItem('google_user', google_user).then(function (rep) {\r\n                    resolve(rep);\r\n                }, function (error) {\r\n                    reject(error);\r\n                });\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n    };\r\n    GoogleLoginService.prototype.doGoogleLogout = function () {\r\n        var _this = this;\r\n        var env = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.googlePlus.logout()\r\n                .then(function (response) {\r\n                //user logged out so we will remove him from the NativeStorage\r\n                env.nativeStorage.remove('google_user');\r\n                resolve();\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n    };\r\n    GoogleLoginService.prototype.getGoogleUser = function () {\r\n        return this.nativeStorage.getItem('google_user');\r\n    };\r\n    GoogleLoginService.prototype.handleError = function (error) {\r\n        console.error('An error occurred', error); // for demo purposes only\r\n        return Promise.reject(error.message || error);\r\n    };\r\n    return GoogleLoginService;\r\n}());\r\nGoogleLoginService = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Http !== \"undefined\" && Http) === \"function\" && _a || Object, typeof (_b = typeof NativeStorage !== \"undefined\" && NativeStorage) === \"function\" && _b || Object, typeof (_c = typeof GooglePlus !== \"undefined\" && GooglePlus) === \"function\" && _c || Object])\r\n], GoogleLoginService);\r\nexport { GoogleLoginService };\r\nvar _a, _b, _c;\r\n//# sourceMappingURL=google-login.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/google-login.service.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, NavParams, Platform, ToastController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Invitation, Contact } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { ContactFindOptions, Contacts } from \"@ionic-native/contacts\";\r\nimport { SMS } from \"@ionic-native/sms\";\r\nvar InvitationAmi = (function () {\r\n    function InvitationAmi(nav, constante, loadingCtrl, smsProvider, toastCtrl, restangular, params, platform, contacts_tel) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.smsProvider = smsProvider;\r\n        this.toastCtrl = toastCtrl;\r\n        this.restangular = restangular;\r\n        this.params = params;\r\n        this.platform = platform;\r\n        this.contacts_tel = contacts_tel;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.invitations = params.get(\"theInvitations\");\r\n    }\r\n    InvitationAmi.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        if (this.platform.is('mobileweb') || this.platform.is('core')) {\r\n            this.contactsComplet = new Array();\r\n            this.loading.present();\r\n            this.restangular.all('user').getList().subscribe(function (users) {\r\n                for (var _i = 0, users_1 = users; _i < users_1.length; _i++) {\r\n                    var usr = users_1[_i];\r\n                    var user = usr;\r\n                    var aContact = new Contact(user.nom, user.prenom, user.phone);\r\n                    aContact.photo = user.urlAvatar;\r\n                    aContact.email = user.email;\r\n                    _this.contactsComplet.push(aContact);\r\n                }\r\n                _this.initContacts();\r\n                _this.loading.dismiss();\r\n            }, function (errorResponse) {\r\n                _this.loading.dismiss();\r\n                _this.constante.traiteErreur(errorResponse, _this);\r\n            });\r\n        }\r\n        else {\r\n            // récupération de toutes les relations\r\n            // options.desiredFields=[ this.contacts_tel.fieldType.id];\r\n            //options.hasPhoneNumber = true;\r\n            var fields = ['displayName', 'phoneNumbers', 'emails', 'photos'];\r\n            var options = new ContactFindOptions();\r\n            options.filter = \"\";\r\n            options.multiple = true;\r\n            options.desiredFields = fields;\r\n            this.loading.present();\r\n            this.contacts_tel.find(['displayName', 'phoneNumbers', 'emails', 'photos'], options).then(function (res) {\r\n                console.log(res.length);\r\n                _this.contactsComplet = new Array();\r\n                for (var _i = 0, res_1 = res; _i < res_1.length; _i++) {\r\n                    var cont = res_1[_i];\r\n                    var aContact = new Contact(\"\", \"\", \"\");\r\n                    aContact.displayName = cont.displayName;\r\n                    aContact.idInterne = cont.id;\r\n                    aContact.phoneNumber = \"\";\r\n                    if (cont.phoneNumbers != null) {\r\n                        for (var _a = 0, _b = cont.phoneNumbers; _a < _b.length; _a++) {\r\n                            var obj1 = _b[_a];\r\n                            if (obj1.pref)\r\n                                aContact.phoneNumber = obj1.value;\r\n                        }\r\n                        if (aContact.phoneNumber == \"\" && cont.phoneNumbers.length > 0)\r\n                            aContact.phoneNumber = cont.phoneNumbers[0].value;\r\n                    }\r\n                    aContact.email = \"\";\r\n                    if (cont.emails != null) {\r\n                        for (var _c = 0, _d = cont.emails; _c < _d.length; _c++) {\r\n                            var obj1 = _d[_c];\r\n                            if (obj1.pref)\r\n                                aContact.email = obj1.value;\r\n                        }\r\n                        if (aContact.email == \"\" && cont.emails.length > 0)\r\n                            aContact.email = cont.emails[0].value;\r\n                    }\r\n                    aContact.photo = \"\";\r\n                    if (cont.photos != null) {\r\n                        for (var _e = 0, _f = cont.photos; _e < _f.length; _e++) {\r\n                            var obj1 = _f[_e];\r\n                            if (obj1.pref)\r\n                                aContact.photo = obj1.value;\r\n                        }\r\n                        if (aContact.photo == \"\" && cont.photos.length > 0)\r\n                            aContact.photo = cont.photos[0].value;\r\n                    }\r\n                    //    if (aContact.photo == \"\")\r\n                    //     aContact.photo = \"user/inconnu.png\";\r\n                    _this.contactsComplet.push(aContact);\r\n                }\r\n                _this.initContacts();\r\n                _this.loading.dismissAll();\r\n            }, function (err) {\r\n                _this.constante.traiteErreur(err, _this);\r\n            });\r\n        }\r\n    };\r\n    ;\r\n    InvitationAmi.prototype.initContacts = function () {\r\n        this.contacts = new Array();\r\n        for (var _i = 0, _a = this.contactsComplet; _i < _a.length; _i++) {\r\n            var contact = _a[_i];\r\n            contact.dejaInvite = false;\r\n            for (var _b = 0, _c = this.invitations; _b < _c.length; _b++) {\r\n                var invite = _c[_b];\r\n                if (invite.contact.idInterne == contact.idInterne) {\r\n                    contact.dejaInvite = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.contacts.push(contact);\r\n        }\r\n    };\r\n    ;\r\n    InvitationAmi.prototype.envoiInvitation = function (contact) {\r\n        var _this = this;\r\n        if (contact.dejaInvite) {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Cet ami a déjà été invité!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n        if (!(this.platform.is('mobileweb') || this.platform.is('core'))) {\r\n            var options = {\r\n                replaceLineBreaks: false,\r\n                android: {\r\n                    intent: ''\r\n                }\r\n            };\r\n            var message = this.constante.user.prenom + \" t'invite sur CoMoneyTy. Click sur le lien ci-dessous pour obtenir l'app : https://lc.cx/f3Sz\";\r\n            this.smsProvider.send(contact.phoneNumber, message, options).then(function (rep) {\r\n                var toast = _this.toastCtrl.create({\r\n                    message: \"Demande transmise!\",\r\n                    duration: 3000,\r\n                    position: 'top'\r\n                });\r\n                toast.present();\r\n            }, function (err) {\r\n                console.log(\"Error : \" + err);\r\n            });\r\n        }\r\n        console.log(\"invitation...\");\r\n        var invitation = new Invitation();\r\n        invitation.etatReponse = \"Invitation envoyée\";\r\n        invitation.idUser = this.constante.user.id;\r\n        invitation.contact = contact;\r\n        var invit = this.restangular.copy(invitation);\r\n        invit.route = 'invitation';\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        invit.save().toPromise().then(function (resp) {\r\n            _this.loading.dismissAll();\r\n            contact.dejaInvite = true;\r\n            _this.invitations.push(resp);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    InvitationAmi.prototype.filtreContact = function (ev) {\r\n        console.log('Filtre');\r\n        var val = ev.target.value;\r\n        // if the value is an empty string don't filter the items\r\n        if (val && val.trim() != '') {\r\n            this.contacts = this.contactsComplet.filter(function (item) {\r\n                return (JSON.stringify(item).toLocaleLowerCase().indexOf(val.toLowerCase()) > -1);\r\n            });\r\n        }\r\n        else {\r\n            this.contacts = this.contactsComplet;\r\n        }\r\n    };\r\n    ;\r\n    return InvitationAmi;\r\n}());\r\nInvitationAmi = __decorate([\r\n    Component({\r\n        selector: 'invitation-ami',\r\n        templateUrl: 'cmy-invitation-ami.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof SMS !== \"undefined\" && SMS) === \"function\" && _d || Object, typeof (_e = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _g || Object, typeof (_h = typeof Platform !== \"undefined\" && Platform) === \"function\" && _h || Object, typeof (_j = typeof Contacts !== \"undefined\" && Contacts) === \"function\" && _j || Object])\r\n], InvitationAmi);\r\nexport { InvitationAmi };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n//# sourceMappingURL=cmy-invitation-ami.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-invitation-ami/cmy-invitation-ami.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { LoadingController, ViewController } from 'ionic-angular';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar ModalChoixEvent = (function () {\r\n    function ModalChoixEvent(loadingCtrl, constante, viewCtrl, restangular) {\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.constante = constante;\r\n        this.viewCtrl = viewCtrl;\r\n        this.restangular = restangular;\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    ModalChoixEvent.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        this.restangular.all('user/' + this.constante.user.id + '/events').getList().subscribe(function (events) {\r\n            _this.events = events;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.loading.dismiss();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ModalChoixEvent.prototype.choose = function (event) {\r\n        // Sauvegarde du lien!!!\r\n        this.viewCtrl.dismiss(event);\r\n    };\r\n    ModalChoixEvent.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    return ModalChoixEvent;\r\n}());\r\nModalChoixEvent = __decorate([\r\n    Component({\r\n        templateUrl: 'modal-choix-event.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object])\r\n], ModalChoixEvent);\r\nexport { ModalChoixEvent };\r\nvar _a, _b, _c, _d;\r\n//# sourceMappingURL=modal-choix-event.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-modal/modal-choix-event.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, NavParams, ModalController, ToastController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, LienEventUser } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { InvitationAmi } from \"../cmy-invitation-ami/cmy-invitation-ami\";\r\nimport { ModalChoixEvent } from \"../cmy-modal/modal-choix-event\";\r\nvar GestionAmi = (function () {\r\n    function GestionAmi(nav, constante, loadingCtrl, toastCtrl, modalController, restangular, params) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.toastCtrl = toastCtrl;\r\n        this.modalController = modalController;\r\n        this.restangular = restangular;\r\n        this.params = params;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.action = { 'encours': false };\r\n    }\r\n    ;\r\n    GestionAmi.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // récupération de toutes les relations\r\n        this.restangular.all('user/' + this.constante.user.id + '/invitations').getList().subscribe(function (invits) {\r\n            _this.invitations = invits;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n        this.restangular.all('user/' + this.constante.user.id + '/relations').getList().subscribe(function (amis) {\r\n            _this.amis = amis;\r\n            _this.amisInitial = amis;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    GestionAmi.prototype.ajouteInvitation = function () {\r\n        this.nav.push(InvitationAmi, { 'theInvitations': this.invitations });\r\n    };\r\n    ;\r\n    GestionAmi.prototype.open = function (ami) {\r\n        if (this.action.encours) {\r\n            return;\r\n        }\r\n        this.action = { 'encours': true };\r\n        //\r\n        this.action.encours = false;\r\n    };\r\n    ;\r\n    GestionAmi.prototype.affecte = function (ami) {\r\n        var _this = this;\r\n        if (this.action.encours) {\r\n            return;\r\n        }\r\n        this.action = { 'encours': true };\r\n        var modal = this.modalController.create(ModalChoixEvent);\r\n        modal.onDidDismiss(function (event) {\r\n            if (event == null) {\r\n                return;\r\n            }\r\n            _this.loading = _this.loadingCtrl.create({\r\n                content: 'Enregistrement...',\r\n            });\r\n            _this.loading.present();\r\n            // Il est présnet mais n'était pas là avant\r\n            var lien = _this.restangular.copy(new LienEventUser(ami.id, event.id));\r\n            lien.route = 'lienEventUser';\r\n            lien.save().toPromise().then(function (rep) {\r\n                _this.loading.dismiss();\r\n                _this.action.encours = false;\r\n            }, function (err) {\r\n                _this.loading.dismiss();\r\n                _this.action.encours = false;\r\n                var toast = _this.toastCtrl.create({\r\n                    message: \"Le user est déjà affecté à cet event!\",\r\n                    duration: 3000,\r\n                    position: 'top'\r\n                });\r\n                toast.present();\r\n            });\r\n        });\r\n        modal.present();\r\n    };\r\n    ;\r\n    GestionAmi.prototype.filtreAmi = function (ev) {\r\n        console.log('Filtre');\r\n        var val = ev.target.value;\r\n        // if the value is an empty string don't filter the items\r\n        if (val && val.trim() != '') {\r\n            this.amis = this.amisInitial.filter(function (item) {\r\n                return (JSON.stringify(item).toLocaleLowerCase().indexOf(val.toLowerCase()) > -1);\r\n            });\r\n        }\r\n        else {\r\n            this.amis = this.amisInitial;\r\n        }\r\n    };\r\n    ;\r\n    return GestionAmi;\r\n}());\r\nGestionAmi = __decorate([\r\n    Component({\r\n        selector: 'gestion-ami',\r\n        templateUrl: 'cmy-gestion-ami.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _d || Object, typeof (_e = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _g || Object])\r\n], GestionAmi);\r\nexport { GestionAmi };\r\nvar _a, _b, _c, _d, _e, _f, _g;\r\n//# sourceMappingURL=cmy-gestion-ami.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-gestion-ami/cmy-gestion-ami.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Ordre } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { PayPal, PayPalConfiguration, PayPalPayment } from \"@ionic-native/paypal\";\r\nvar PaiementOrdre = (function () {\r\n    function PaiementOrdre(nav, constante, navParams, loadingCtrl, alertController, toastCtrl, restangular, payPal) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.navParams = navParams;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertController = alertController;\r\n        this.toastCtrl = toastCtrl;\r\n        this.restangular = restangular;\r\n        this.payPal = payPal;\r\n        this.ordre = this.navParams.get(\"theOrdre\");\r\n        this.message = this.navParams.get(\"theMessage\");\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    PaiementOrdre.prototype.ionViewDidLoad = function () {\r\n    };\r\n    PaiementOrdre.prototype.paypal = function () {\r\n        var _this = this;\r\n        this.payPal.init({\r\n            PayPalEnvironmentProduction: 'YOUR_PRODUCTION_CLIENT_ID',\r\n            PayPalEnvironmentSandbox: 'AcVJLzisnjYYATxnMjyM3msePtk6TV-_za3cPUlJRgPaEM-fOQmgx7m_jHDC-ceYhzJOK1b8W3boq5a-'\r\n        }).then(function (res) {\r\n            _this.payPal.prepareToRender('PayPalEnvironmentSandbox', new PayPalConfiguration({})).then(function () {\r\n                var payment = new PayPalPayment('' + _this.ordre.mouvement.montant, 'EUR', 'Description', 'sale');\r\n                _this.payPal.renderSinglePaymentUI(payment).then(function (rep) {\r\n                    // Successfully paid\r\n                    console.log(rep);\r\n                }, function (error) {\r\n                    _this.constante.traiteErreur(error, _this);\r\n                });\r\n            }, function (error) {\r\n                _this.constante.traiteErreur(error, _this);\r\n            });\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    PaiementOrdre.prototype.visa = function () {\r\n        this.presentToast(\"Le paiement VISA n'est pas encore disponible!\");\r\n    };\r\n    PaiementOrdre.prototype.virement = function () {\r\n        var _this = this;\r\n        var alert = this.alertController.create({\r\n            title: 'Valider le virement?',\r\n            message: \"Confirmez-vous que vous voulez régler par virement?\",\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        // On bascule juste le mouvement en \"effectué\"\r\n                        _this.loading.present();\r\n                        var aOrdre = new Ordre();\r\n                        _this.ordre.mouvement.etat = \"Réalisé\";\r\n                        aOrdre.mouvement = _this.ordre.mouvement;\r\n                        aOrdre.emetteur = _this.ordre.emetteur;\r\n                        aOrdre.event = _this.ordre.event;\r\n                        _this.restangular.one(\"mouvement\").post(\"reglementParVirement\", aOrdre).subscribe(function (rep) {\r\n                            _this.loading.dismissAll();\r\n                            _this.presentToast(\"Virement transmis\");\r\n                            _this.message.actionRealise = true;\r\n                            var msgRest = _this.restangular.copy(_this.message);\r\n                            msgRest.route = \"message\";\r\n                            msgRest.save().toPromise().then(function (rep) {\r\n                                console.log(\"Message action réalisée!\");\r\n                            }, function (error) {\r\n                                _this.constante.traiteErreur(error, _this);\r\n                            });\r\n                        }, function (error) {\r\n                            _this.constante.traiteErreur(error, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Non',\r\n                    handler: function () {\r\n                        console.log(\"Abandon\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    PaiementOrdre.prototype.hand = function () {\r\n        var _this = this;\r\n        var alert = this.alertController.create({\r\n            title: 'Valider le réglèment manuel?',\r\n            message: \"Confirmez-vous que vous avez régler en espèce ce paiement?\",\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        // On bascule juste le mouvement en \"effectué\"\r\n                        _this.loading.present();\r\n                        _this.ordre.mouvement.etat = \"Réalisé\";\r\n                        var mvtRest = _this.restangular.copy(_this.ordre.mouvement);\r\n                        mvtRest.route = \"mouvement\";\r\n                        mvtRest.save().toPromise().then(function (rep) {\r\n                            _this.loading.dismissAll();\r\n                            _this.presentToast(\"Paiement enregistré\");\r\n                            _this.message.actionRealise = true;\r\n                            var msgRest = _this.restangular.copy(_this.message);\r\n                            msgRest.route = \"message\";\r\n                            msgRest.save().toPromise().then(function (rep) {\r\n                                console.log(\"Message action réalisée!\");\r\n                            }, function (error) {\r\n                                _this.constante.traiteErreur(error, _this);\r\n                            });\r\n                        }, function (error) {\r\n                            _this.constante.traiteErreur(error, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Non',\r\n                    handler: function () {\r\n                        console.log(\"Abandon\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    PaiementOrdre.prototype.lydia = function () {\r\n        this.presentToast(\"Le paiement Lydia n'est pas encore disponible!\");\r\n    };\r\n    PaiementOrdre.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    return PaiementOrdre;\r\n}());\r\nPaiementOrdre = __decorate([\r\n    Component({\r\n        selector: 'paiement-ordre',\r\n        templateUrl: 'cmy-paiement-ordre.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object, typeof (_g = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _g || Object, typeof (_h = typeof PayPal !== \"undefined\" && PayPal) === \"function\" && _h || Object])\r\n], PaiementOrdre);\r\nexport { PaiementOrdre };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=cmy-paiement-ordre.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-paiement-ordre/cmy-paiement-ordre.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nvar DetailOrdre = (function () {\r\n    function DetailOrdre(nav, constante, navParams, loadingCtrl) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.navParams = navParams;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.ordre = this.navParams.get(\"theOrdre\");\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    DetailOrdre.prototype.ionViewDidLoad = function () {\r\n    };\r\n    return DetailOrdre;\r\n}());\r\nDetailOrdre = __decorate([\r\n    Component({\r\n        selector: 'detail-ordre',\r\n        templateUrl: 'cmy-detail-ordre.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object])\r\n], DetailOrdre);\r\nexport { DetailOrdre };\r\nvar _a, _b, _c, _d;\r\n//# sourceMappingURL=cmy-detail-ordre.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-detail-ordre/cmy-detail-ordre.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { PaiementOrdre } from \"../cmy-paiement-ordre/cmy-paiement-ordre\";\r\nimport { DetailOrdre } from \"../cmy-detail-ordre/cmy-detail-ordre\";\r\nvar DetailMessage = (function () {\r\n    function DetailMessage(nav, constante, navParams, loadingCtrl, alertController, restangular) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.navParams = navParams;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertController = alertController;\r\n        this.restangular = restangular;\r\n        this.message = this.navParams.get(\"theMessage\");\r\n    }\r\n    DetailMessage.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.message.dejaLu = true;\r\n        var msgRest = this.restangular.copy(this.message);\r\n        msgRest.route = \"message\";\r\n        msgRest.save().toPromise().then(function (rep) {\r\n            console.log(\"Message bascule en lu\");\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ;\r\n    DetailMessage.prototype.traite = function () {\r\n        var message = this.message;\r\n        var messageCache = JSON.parse(message.messageCache);\r\n        if (messageCache.nomClasse == \"Invitation\") {\r\n            // C'est une invitation\r\n            var invitation = messageCache;\r\n            if (invitation.etatReponse == \"Invitation envoyée\") {\r\n                this.traiteInvitation(message, invitation);\r\n            }\r\n            else {\r\n                this.constante.presentToast(\"Invitation déjà acceptée!\");\r\n            }\r\n        }\r\n        else if (messageCache.nomClasse == \"Ordre\") {\r\n            // On est sur un mouvement => On renvoie sur l'ordre\r\n            var ordre = messageCache;\r\n            if (!message.actionRealise)\r\n                this.nav.push(PaiementOrdre, { theOrdre: ordre, theMessage: message });\r\n            else {\r\n                ordre.mouvement.etat = \"Réalisé\";\r\n                this.nav.push(DetailOrdre, { theOrdre: ordre });\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    DetailMessage.prototype.traiteInvitation = function (message, invitation) {\r\n        var _this = this;\r\n        var alert = this.alertController.create({\r\n            title: 'Accepter une invitation',\r\n            message: \"Confirmez-vous cette invitation\",\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        // Transofrmation de l'invit en relation\r\n                        _this.loading = _this.loadingCtrl.create();\r\n                        _this.loading.present();\r\n                        //let messageCache: Message = JSON.parse(message.messageCache);\r\n                        _this.restangular.one(\"invitation/\" + invitation.id + \"/confirm\").get().subscribe(function (resp) {\r\n                            console.log(\"OK!\");\r\n                            _this.loading.dismissAll();\r\n                            message.dejaLu = true;\r\n                            message.actionRealise = true;\r\n                            var msgRest = _this.restangular.copy(_this.message);\r\n                            msgRest.route = \"message\";\r\n                            msgRest.save().toPromise().then(function (rep) {\r\n                                console.log(\"Message action réalisée!\");\r\n                            }, function (error) {\r\n                                _this.constante.traiteErreur(error, _this);\r\n                            });\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Non',\r\n                    handler: function () {\r\n                        console.log(\"Abandon\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    return DetailMessage;\r\n}());\r\nDetailMessage = __decorate([\r\n    Component({\r\n        selector: 'detail-message',\r\n        templateUrl: 'cmy-detail-message.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object])\r\n], DetailMessage);\r\nexport { DetailMessage };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-detail-message.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-detail-message/cmy-detail-message.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { DetailMessage } from \"../cmy-detail-message/cmy-detail-message\";\r\nvar ListeMessage = (function () {\r\n    function ListeMessage(constante, loadingCtrl, alertCtrl, nav, restangular, alertController) {\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertCtrl = alertCtrl;\r\n        this.nav = nav;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    ListeMessage.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // This will query /accounts and return a observable.\r\n        this.restangular.all('user/' + this.constante.user.id + '/messages').getList().subscribe(function (messages) {\r\n            _this.tableauMessages = messages;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    ListeMessage.prototype.traite = function (message) {\r\n        this.nav.push(DetailMessage, { theMessage: message });\r\n    };\r\n    ;\r\n    ListeMessage.prototype.trash = function (message) {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            title: 'Suppression message',\r\n            message: 'Etes-vous sur de voulier supprimer ce message?',\r\n            buttons: [\r\n                {\r\n                    text: 'Annuler',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Confirmer',\r\n                    handler: function (data) {\r\n                        _this.loading = _this.loadingCtrl.create();\r\n                        _this.loading.present();\r\n                        var mvtRest = _this.restangular.copy(message);\r\n                        mvtRest.route = \"message\";\r\n                        mvtRest.remove().toPromise().then(function (rep) {\r\n                            _this.loading.dismissAll();\r\n                            _this.constante.presentToast(\"Message supprimé!\");\r\n                            for (var _i = 0, _a = _this.tableauMessages; _i < _a.length; _i++) {\r\n                                var tab = _a[_i];\r\n                                var messages = tab.tableau;\r\n                                var trouve = false;\r\n                                for (var i = 0; i < messages.length; i++) {\r\n                                    var msg = messages[i];\r\n                                    if (msg.id == message.id) {\r\n                                        messages.splice(i, 1);\r\n                                        trouve = true;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (trouve)\r\n                                    break;\r\n                            }\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    return ListeMessage;\r\n}());\r\nListeMessage = __decorate([\r\n    Component({\r\n        selector: 'liste-message',\r\n        templateUrl: 'cmy-liste-message.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Constante !== \"undefined\" && Constante) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _c || Object, typeof (_d = typeof NavController !== \"undefined\" && NavController) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _f || Object])\r\n], ListeMessage);\r\nexport { ListeMessage };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-liste-message.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-list-message/cmy-liste-message.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport 'rxjs/Rx';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { AlertController, LoadingController, NavController, ToastController } from \"ionic-angular\";\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { GestionAmi } from \"../cmy-gestion-ami/cmy-gestion-ami\";\r\nimport { ListeEvent } from \"../cmy-liste-event/cmy-liste-event\";\r\nimport { ListeMessage } from \"../cmy-list-message/cmy-liste-message\";\r\nimport { GestionProfile } from \"../cmy-gestion-profile/cmy-gestion-profile\";\r\nvar Home = (function () {\r\n    function Home(nav, constante, loadingCtrl, restangular, alertController, toastCtrl) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n        this.toastCtrl = toastCtrl;\r\n        this.montantQueJeDois = 0;\r\n        this.nbEvent = 0;\r\n        this.montantQuonMeDoit = 0;\r\n        this.nbMessageATraiter = 0;\r\n        this.nbAmis = 0;\r\n        this.profil = \"--\";\r\n    }\r\n    ;\r\n    Home.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.restangular.one(\"user/\" + this.constante.user.id + \"/synthese\").get().toPromise().then(function (rep) {\r\n            _this.montantQueJeDois = rep.montantQueJeDois;\r\n            _this.nbEvent = rep.nbEvent;\r\n            _this.montantQuonMeDoit = rep.montantQuonMeDoit;\r\n            _this.nbMessageATraiter = rep.nbMessageATraiter;\r\n            _this.nbAmis = rep.nbAmis;\r\n            _this.profil = (rep.profil > 0 ? \"complet\" : \"incomplet\");\r\n            _this.profilColor = (rep.profil > 0 ? \"secondary\" : \"danger\");\r\n            if (_this.constante.user == null && _this.constante.user == null) {\r\n                var alert = _this.alertController.create({\r\n                    title: 'Votre profil est incomplet (Téléphone!)',\r\n                    message: \"Voulez-vous accéder directement à votre profil pour le compléter?\",\r\n                    buttons: [\r\n                        {\r\n                            text: 'Oui',\r\n                            role: 'cancel',\r\n                            handler: function () {\r\n                                _this.nav.push(GestionProfile);\r\n                            }\r\n                        },\r\n                        {\r\n                            text: 'Non',\r\n                            handler: function () {\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            }\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ;\r\n    Home.prototype.goToAmis = function () {\r\n        this.nav.setRoot(GestionAmi);\r\n    };\r\n    ;\r\n    Home.prototype.goToProfile = function () {\r\n        this.nav.push(GestionProfile);\r\n    };\r\n    ;\r\n    Home.prototype.goToEvent = function () {\r\n        this.nav.setRoot(ListeEvent);\r\n    };\r\n    ;\r\n    Home.prototype.goToMessage = function () {\r\n        this.nav.setRoot(ListeMessage);\r\n    };\r\n    ;\r\n    return Home;\r\n}());\r\nHome = __decorate([\r\n    Component({\r\n        selector: 'home',\r\n        templateUrl: 'cmy-home.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object])\r\n], Home);\r\nexport { Home };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-home.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-home/cmy-home.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { ViewController } from 'ionic-angular';\r\nvar PrivacyPolicyPage = (function () {\r\n    function PrivacyPolicyPage(view) {\r\n        this.view = view;\r\n    }\r\n    PrivacyPolicyPage.prototype.dismiss = function () {\r\n        this.view.dismiss();\r\n    };\r\n    return PrivacyPolicyPage;\r\n}());\r\nPrivacyPolicyPage = __decorate([\r\n    Component({\r\n        selector: 'privacy-policy-page',\r\n        templateUrl: 'privacy-policy.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _a || Object])\r\n], PrivacyPolicyPage);\r\nexport { PrivacyPolicyPage };\r\nvar _a;\r\n//# sourceMappingURL=privacy-policy.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/privacy-policy/privacy-policy.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { ListeEvent } from \"../cmy-liste-event/cmy-liste-event\";\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { FacebookLoginService } from '../login/facebook-login.service';\r\nimport { GoogleLoginService } from '../login/google-login.service';\r\nimport { User, Constante } from \"../cmy-model/cmy.model\";\r\nimport { Home } from \"../cmy-home/cmy-home\";\r\nimport { PrivacyPolicyPage } from \"../privacy-policy/privacy-policy\";\r\nvar SignupPage = (function () {\r\n    function SignupPage(nav, restangular, modal, toastCtrl, facebookLoginService, googleLoginService, loadingCtrl, constante) {\r\n        this.nav = nav;\r\n        this.restangular = restangular;\r\n        this.modal = modal;\r\n        this.toastCtrl = toastCtrl;\r\n        this.facebookLoginService = facebookLoginService;\r\n        this.googleLoginService = googleLoginService;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.constante = constante;\r\n        this.main_page = { component: Home };\r\n        this.signup = new FormGroup({\r\n            email: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5), Validators.pattern(\"[a-z0-9.-_]+@[a-z.]+\")])),\r\n            phone: new FormControl('', Validators.compose([Validators.required, Validators.minLength(10), Validators.pattern(\"^(?:(?:\\\\+|00)33|0)\\\\s*[1-9](?:[\\\\s.-]*\\\\d{2}){4}$\")])),\r\n            nom: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)])),\r\n            prenom: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3)])),\r\n            password: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)])),\r\n            confirm_password: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)])),\r\n        });\r\n    }\r\n    SignupPage.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    SignupPage.prototype.doSignup = function () {\r\n        var _this = this;\r\n        // Enregistrement du nouveau user\r\n        var user = new User();\r\n        user.email = this.signup.get('email').value;\r\n        user.password = this.signup.get(\"password\").value;\r\n        user.phone = this.signup.get(\"phone\").value;\r\n        user.nom = this.signup.get('nom').value;\r\n        user.prenom = this.signup.get('prenom').value;\r\n        var passconf = this.signup.get(\"confirm_password\").value;\r\n        if (passconf != user.password) {\r\n            this.presentToast(\"Les mots de passe sont différents!\");\r\n            this.signup.get(\"confirm_password\").markAsDirty();\r\n            return;\r\n        }\r\n        this.loading = this.loadingCtrl.create({\r\n            content: 'Enregistrement...',\r\n        });\r\n        this.loading.present();\r\n        this.restangular.one(\"user\").post(\"create\", user).subscribe(function (resp) {\r\n            // Ajout à la liste\r\n            _this.loading.dismissAll();\r\n            localStorage.removeItem('id_token');\r\n            localStorage.removeItem('user');\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            _this.constante.user = resp.user;\r\n            // let component_page : any = { component: ListeEvent };\r\n            _this.nav.setRoot(ListeEvent);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    SignupPage.prototype.doFacebookSignup = function () {\r\n        this.loading = this.loadingCtrl.create();\r\n        // Here we will check if the user is already logged in\r\n        // because we don't want to ask users to log in each time they open the app\r\n        var env = this;\r\n        this.facebookLoginService.getFacebookUser()\r\n            .then(function (data) {\r\n            // user is previously logged with FB and we have his data we will let him access the app\r\n            // data : name, image,userID\r\n            env.signup_social_fb(data);\r\n        }, function (error) {\r\n            //we don't have the user data so we will ask him to log in\r\n            env.facebookLoginService.doFacebookLogin()\r\n                .then(function (data) {\r\n                env.loading.dismiss();\r\n                env.signup_social_fb(data);\r\n            }, function (err) {\r\n                this.constante.traiteErreur(err, this);\r\n            });\r\n        });\r\n    };\r\n    SignupPage.prototype.signup_social_fb = function (data) {\r\n        var _this = this;\r\n        var user = new User();\r\n        user.id = data.userId;\r\n        user.email = data.email;\r\n        if (data.name.indexOf(\" \") != -1) {\r\n            user.nom = data.name.split(\" \")[0];\r\n            user.prenom = data.name.split(\" \")[1];\r\n        }\r\n        else {\r\n            user.nom = data.name;\r\n            user.prenom = \"--\";\r\n        }\r\n        user.urlAvatar = data.image;\r\n        // Connexion réel à l'application\r\n        this.restangular.one(\"user\").post(\"signup-facebook\", user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            _this.constante.login(resp.user);\r\n            _this.nav.setRoot(_this.main_page.component);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    SignupPage.prototype.signup_social_google = function (data) {\r\n        var _this = this;\r\n        var user = new User();\r\n        user.id = data.userId;\r\n        user.email = data.email;\r\n        if (data.name.indexOf(\" \") != -1) {\r\n            user.nom = data.name.split(\" \")[0];\r\n            user.prenom = data.name.split(\" \")[1];\r\n        }\r\n        else {\r\n            user.nom = data.name;\r\n            user.prenom = \"--\";\r\n        }\r\n        user.urlAvatar = data.image;\r\n        // Connexion réel à l'application\r\n        this.restangular.one(\"user\").post(\"signup-google\", user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            _this.constante.login(resp.user);\r\n            _this.nav.setRoot(_this.main_page.component);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    SignupPage.prototype.doGoogleSignup = function () {\r\n        this.loading = this.loadingCtrl.create();\r\n        // Here we will check if the user is already logged in because we don't want to ask users to log in each time they open the app\r\n        var env = this;\r\n        this.googleLoginService.trySilentLogin()\r\n            .then(function (data) {\r\n            // user is previously logged with Google and we have his data we will let him access the app\r\n            env.signup_social_google(data);\r\n        }, function (error) {\r\n            //we don't have the user data so we will ask him to log in\r\n            env.googleLoginService.doGoogleLogin()\r\n                .then(function (res) {\r\n                env.loading.dismiss();\r\n                env.signup_social_google(res);\r\n            }, function (err) {\r\n                env.constante.traiteErreur(err, env);\r\n                env.loading.dismiss();\r\n            });\r\n        });\r\n    };\r\n    SignupPage.prototype.showTermsModal = function () {\r\n        var modal = this.modal.create(PrivacyPolicyPage);\r\n        modal.present();\r\n    };\r\n    SignupPage.prototype.showPrivacyModal = function () {\r\n        var modal = this.modal.create(PrivacyPolicyPage);\r\n        modal.present();\r\n    };\r\n    return SignupPage;\r\n}());\r\nSignupPage = __decorate([\r\n    Component({\r\n        selector: 'signup-page',\r\n        templateUrl: 'signup.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _d || Object, typeof (_e = typeof FacebookLoginService !== \"undefined\" && FacebookLoginService) === \"function\" && _e || Object, typeof (_f = typeof GoogleLoginService !== \"undefined\" && GoogleLoginService) === \"function\" && _f || Object, typeof (_g = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _g || Object, typeof (_h = typeof Constante !== \"undefined\" && Constante) === \"function\" && _h || Object])\r\n], SignupPage);\r\nexport { SignupPage };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\n//# sourceMappingURL=signup.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { LoadingController, NavController, ToastController } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { SMS } from \"@ionic-native/sms\";\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { LoginPage } from \"../login/login\";\r\nvar ForgotPasswordPage = (function () {\r\n    function ForgotPasswordPage(nav, restangular, loadingCtrl, toastCtrl, constante, smsProvider) {\r\n        this.nav = nav;\r\n        this.restangular = restangular;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.toastCtrl = toastCtrl;\r\n        this.constante = constante;\r\n        this.smsProvider = smsProvider;\r\n        this.main_page = { component: LoginPage };\r\n        this.forgot_password = new FormGroup({\r\n            email: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5), Validators.pattern(\"[a-z0-9.-_]+@[a-z.]+\")])),\r\n            phone: new FormControl('', Validators.compose([Validators.required, Validators.minLength(10), Validators.pattern(\"^(?:(?:\\\\+|00)33|0)\\\\s*[1-9](?:[\\\\s.-]*\\\\d{2}){4}$\")]))\r\n        });\r\n    }\r\n    ;\r\n    ForgotPasswordPage.prototype.recoverPassword = function () {\r\n        var _this = this;\r\n        var phone = this.forgot_password.get('phone').value;\r\n        var email = this.forgot_password.get('email').value;\r\n        // Vérification email et téléphone\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        this.restangular.one(\"utilitaire\").post(\"controleRecoverPassword\", email + \"<-->\" + phone).toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            var message = \"Votre mot de passe CoMoneyTy est : \" + rep.password;\r\n            _this.smsProvider.send(phone, message, options).then(function (rep) {\r\n                var toast = _this.toastCtrl.create({\r\n                    message: \"Votre password a été envoyé par SMS!\",\r\n                    duration: 3000,\r\n                    position: 'top'\r\n                });\r\n                toast.present();\r\n            }, function (error) {\r\n                _this.constante.traiteErreur(error, _this);\r\n            });\r\n            return;\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n        var options = {\r\n            replaceLineBreaks: false,\r\n            android: {\r\n                intent: ''\r\n            }\r\n        };\r\n        this.nav.setRoot(this.main_page.component);\r\n    };\r\n    ;\r\n    ForgotPasswordPage.prototype.presentToast = function (text) {\r\n        var toast = this.toastCtrl.create({\r\n            message: text,\r\n            duration: 3000,\r\n            position: 'top'\r\n        });\r\n        toast.present();\r\n    };\r\n    ;\r\n    return ForgotPasswordPage;\r\n}());\r\nForgotPasswordPage = __decorate([\r\n    Component({\r\n        selector: 'forgot-password-page',\r\n        templateUrl: 'forgot-password.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _d || Object, typeof (_e = typeof Constante !== \"undefined\" && Constante) === \"function\" && _e || Object, typeof (_f = typeof SMS !== \"undefined\" && SMS) === \"function\" && _f || Object])\r\n], ForgotPasswordPage);\r\nexport { ForgotPasswordPage };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=forgot-password.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/forgot-password/forgot-password.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { SignupPage } from '../signup/signup';\r\nimport { ForgotPasswordPage } from '../forgot-password/forgot-password';\r\nimport { FacebookLoginService } from './facebook-login.service';\r\nimport { GoogleLoginService } from './google-login.service';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { User, Constante } from '../cmy-model/cmy.model';\r\nimport { PrivacyPolicyPage } from \"../privacy-policy/privacy-policy\";\r\nimport { Home } from \"../cmy-home/cmy-home\";\r\nimport CryptoJS from 'crypto-js';\r\nvar LoginPage = (function () {\r\n    function LoginPage(nav, facebookLoginService, googleLoginService, loadingCtrl, restangular, constante, toastCtrl) {\r\n        this.nav = nav;\r\n        this.facebookLoginService = facebookLoginService;\r\n        this.googleLoginService = googleLoginService;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.constante = constante;\r\n        this.toastCtrl = toastCtrl;\r\n        this.main_page = { component: Home };\r\n        this.user = new User();\r\n        this.login = new FormGroup({\r\n            email: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3)])),\r\n            password: new FormControl('', Validators.compose([Validators.required, Validators.minLength(5)]))\r\n        });\r\n    }\r\n    LoginPage.prototype.doLogin = function () {\r\n        var _this = this;\r\n        this.user.email = this.login.get('email').value;\r\n        this.user.login = this.login.get('email').value;\r\n        this.user.password = this.login.get('password').value;\r\n        localStorage.removeItem('id_token');\r\n        localStorage.removeItem('user');\r\n        this.restangular.one(\"user\").post(\"login\", this.user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            if (resp.user.codecourt != null && resp.user.codecourt.length > 0) {\r\n                var derivedKey = CryptoJS.PBKDF2(resp.user.codecourt, \"AlwaysTheSameSalt\", {\r\n                    keySize: 512 / 32,\r\n                    iterations: 5\r\n                }).toString();\r\n                localStorage.setItem(\"codecourt\", derivedKey);\r\n            }\r\n            _this.constante.login(resp.user);\r\n            _this.nav.setRoot(_this.main_page.component);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    LoginPage.prototype.doFacebookLogin = function () {\r\n        this.loading = this.loadingCtrl.create();\r\n        // Here we will check if the user is already logged in because we don't want to ask users to log in each time they open the app\r\n        var env = this;\r\n        this.facebookLoginService.getFacebookUser()\r\n            .then(function (data) {\r\n            // user is previously logged with FB and we have his data we will let him access the app\r\n            // data : name, image,userID\r\n            env.loggue_fb(data);\r\n        }, function (error) {\r\n            //we don't have the user data so we will ask him to log in\r\n            env.facebookLoginService.doFacebookLogin()\r\n                .then(function (data) {\r\n                env.loading.dismiss();\r\n                env.loggue_fb(data);\r\n            }, function (err) {\r\n                env.constante.traiteErreur(err, env);\r\n                env.facebookLoginService.doFacebookLogout().then(function (response) {\r\n                    console.log(\"cookie facebook effacé\");\r\n                }, function (error) {\r\n                });\r\n            });\r\n        });\r\n    };\r\n    ;\r\n    LoginPage.prototype.loggue_fb = function (data) {\r\n        var _this = this;\r\n        var user = new User();\r\n        user.id = data.userId;\r\n        user.email = data.email;\r\n        if (data.name.indexOf(\" \") != -1) {\r\n            user.nom = data.name.split(\" \")[0];\r\n            user.prenom = data.name.split(\" \")[1];\r\n        }\r\n        else {\r\n            user.nom = data.name;\r\n            user.prenom = \"--\";\r\n        }\r\n        user.urlAvatar = data.image;\r\n        this.restangular.one(\"user\").post(\"login-facebook\", user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            if (resp.user.codecourt != null && resp.user.codecourt.length > 0) {\r\n                var derivedKey = CryptoJS.PBKDF2(resp.user.codecourt, \"AlwaysTheSameSalt\", {\r\n                    keySize: 512 / 32,\r\n                    iterations: 5\r\n                }).toString();\r\n                localStorage.setItem(\"codecourt\", derivedKey);\r\n            }\r\n            _this.constante.user = resp.user;\r\n            _this.constante.login(resp.user);\r\n            _this.nav.setRoot(_this.main_page.component);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    LoginPage.prototype.loggue_google = function (data) {\r\n        var _this = this;\r\n        var user = new User();\r\n        user.id = data.userId;\r\n        user.email = data.email;\r\n        if (data.name.indexOf(\" \") != -1) {\r\n            user.nom = data.name.split(\" \")[0];\r\n            user.prenom = data.name.split(\" \")[1];\r\n        }\r\n        else {\r\n            user.nom = data.name;\r\n            user.prenom = \"--\";\r\n        }\r\n        user.urlAvatar = data.image;\r\n        this.restangular.one(\"user\").post(\"login-google\", user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            if (resp.user.codecourt != null && resp.user.codecourt.length > 0) {\r\n                var derivedKey = CryptoJS.PBKDF2(resp.user.codecourt, \"AlwaysTheSameSalt\", {\r\n                    keySize: 512 / 32,\r\n                    iterations: 5\r\n                }).toString();\r\n                localStorage.setItem(\"codecourt\", derivedKey);\r\n            }\r\n            _this.constante.user = resp.user;\r\n            _this.nav.setRoot(_this.main_page.component);\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    LoginPage.prototype.doGoogleLogin = function () {\r\n        this.loading = this.loadingCtrl.create();\r\n        // Here we will check if the user is already logged in because we don't want to ask users to log in each time they open the app\r\n        var env = this;\r\n        this.googleLoginService.trySilentLogin()\r\n            .then(function (data) {\r\n            // user is previously logged with Google and we have his data we will let him access the app\r\n            env.loggue_google(data);\r\n        }, function (error) {\r\n            //we don't have the user data so we will ask him to log in\r\n            env.googleLoginService.doGoogleLogin()\r\n                .then(function (res) {\r\n                env.loading.dismiss();\r\n                env.loggue_google(res);\r\n            }, function (err) {\r\n                env.constante.traiteErreur(err, env);\r\n            });\r\n        });\r\n    };\r\n    LoginPage.prototype.goToSignup = function () {\r\n        this.nav.push(SignupPage);\r\n    };\r\n    LoginPage.prototype.goToForgotPassword = function () {\r\n        this.nav.push(ForgotPasswordPage);\r\n    };\r\n    LoginPage.prototype.showPrivacy = function () {\r\n        this.nav.push(PrivacyPolicyPage);\r\n    };\r\n    return LoginPage;\r\n}());\r\nLoginPage = __decorate([\r\n    Component({\r\n        selector: 'login-page',\r\n        templateUrl: 'login.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof FacebookLoginService !== \"undefined\" && FacebookLoginService) === \"function\" && _b || Object, typeof (_c = typeof GoogleLoginService !== \"undefined\" && GoogleLoginService) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof Constante !== \"undefined\" && Constante) === \"function\" && _f || Object, typeof (_g = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _g || Object])\r\n], LoginPage);\r\nexport { LoginPage };\r\nvar _a, _b, _c, _d, _e, _f, _g;\r\n//# sourceMappingURL=login.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NavController, Slides } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { SignupPage } from '../signup/signup';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { User, Constante } from '../cmy-model/cmy.model';\r\nimport { ListeEvent } from '../cmy-liste-event/cmy-liste-event';\r\nvar WalkthroughPage = (function () {\r\n    function WalkthroughPage(nav, restangular, constante) {\r\n        this.nav = nav;\r\n        this.restangular = restangular;\r\n        this.constante = constante;\r\n        this.lastSlide = false;\r\n    }\r\n    WalkthroughPage.prototype.skipIntro = function () {\r\n        // You can skip to main app\r\n        // this.nav.setRoot(TabsNavigationPage);\r\n        // Or you can skip to last slide (login/signup slide)\r\n        this.lastSlide = true;\r\n        this.slider.slideTo(this.slider.length());\r\n    };\r\n    WalkthroughPage.prototype.skipDevIntro = function () {\r\n        var _this = this;\r\n        localStorage.removeItem('id_token');\r\n        localStorage.removeItem('user');\r\n        this.userDev = new User();\r\n        this.userDev.login = \"Herve\";\r\n        this.userDev.password = \"CoMoneyTy\";\r\n        this.restangular.one(\"user\").post(\"login\", this.userDev).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            _this.constante.login(resp.user);\r\n            _this.nav.setRoot(ListeEvent);\r\n        }, function (errorResponse) {\r\n            console.log(\"Error with status code\", errorResponse.status);\r\n        });\r\n    };\r\n    WalkthroughPage.prototype.onSlideChanged = function () {\r\n        // If it's the last slide, then hide the 'Skip' button on the header\r\n        this.lastSlide = this.slider.isEnd();\r\n    };\r\n    WalkthroughPage.prototype.goToLogin = function () {\r\n        this.nav.push(LoginPage);\r\n    };\r\n    WalkthroughPage.prototype.goToSignup = function () {\r\n        this.nav.push(SignupPage);\r\n    };\r\n    WalkthroughPage.prototype.fileChange = function (event) {\r\n        var fileList = event.target.files;\r\n        var file = fileList[0];\r\n        var fd = new FormData();\r\n        fd.append('file', file);\r\n        this.restangular.one('event').post('upload', fd).subscribe(function (resp) {\r\n            console.log(resp);\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n    };\r\n    return WalkthroughPage;\r\n}());\r\n__decorate([\r\n    ViewChild('slider'),\r\n    __metadata(\"design:type\", typeof (_a = typeof Slides !== \"undefined\" && Slides) === \"function\" && _a || Object)\r\n], WalkthroughPage.prototype, \"slider\", void 0);\r\nWalkthroughPage = __decorate([\r\n    Component({\r\n        selector: 'walkthrough-page',\r\n        templateUrl: 'walkthrough.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_b = typeof NavController !== \"undefined\" && NavController) === \"function\" && _b || Object, typeof (_c = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _c || Object, typeof (_d = typeof Constante !== \"undefined\" && Constante) === \"function\" && _d || Object])\r\n], WalkthroughPage);\r\nexport { WalkthroughPage };\r\nvar _a, _b, _c, _d;\r\n//# sourceMappingURL=walkthrough.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/walkthrough/walkthrough.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { Restangular } from 'ngx-restangular';\r\nvar DetailOperation = (function () {\r\n    function DetailOperation(nav, constante, navParams, loadingCtrl, alertController, restangular) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.navParams = navParams;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertController = alertController;\r\n        this.restangular = restangular;\r\n        this.operationAvecDepense = this.navParams.get(\"theOperation\");\r\n        this.dejaLance = this.navParams.get(\"action\");\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    DetailOperation.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        if (this.operationAvecDepense.depense != null) {\r\n            this.loading.present();\r\n            // This will query /accounts and return a observable.\r\n            this.restangular.one('event/' + this.operationAvecDepense.depense.idEvent).doGET().subscribe(function (event) {\r\n                _this.event = event;\r\n                _this.loading.dismiss();\r\n            }, function (errorResponse) {\r\n                _this.constante.traiteErreur(errorResponse, _this);\r\n            });\r\n        }\r\n    };\r\n    DetailOperation.prototype.ionViewWillLeave = function () {\r\n        this.dejaLance.encours = false;\r\n    };\r\n    ;\r\n    DetailOperation.prototype.supprimeLien = function () {\r\n        var _this = this;\r\n        var alert = this.alertController.create({\r\n            title: 'Confirmer la suppression',\r\n            message: \"Vous voulez retirer cette opération de l'event?\",\r\n            buttons: [\r\n                {\r\n                    text: 'Non',\r\n                    role: 'cancel',\r\n                    handler: function () {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Oui',\r\n                    handler: function () {\r\n                        // suppression du lien\r\n                        console.log('OK clicked');\r\n                        _this.loading = _this.loadingCtrl.create({\r\n                            content: 'Suppression...',\r\n                        });\r\n                        _this.loading.present();\r\n                        // this.operationAvecDepense.depense.remove();\r\n                        var newDepense = _this.restangular.copy(_this.operationAvecDepense.depense);\r\n                        newDepense.route = 'depense';\r\n                        newDepense.remove().toPromise().then(function (resp) {\r\n                            _this.loading.dismissAll();\r\n                            console.log(\"dépense supprimée\");\r\n                            _this.operationAvecDepense.depense = null;\r\n                            _this.event = null;\r\n                        }, function (errorResponse) {\r\n                            _this.constante.traiteErreur(errorResponse, _this);\r\n                        });\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    return DetailOperation;\r\n}());\r\nDetailOperation = __decorate([\r\n    Component({\r\n        selector: 'detail-operation',\r\n        templateUrl: 'cmy-detail-operation.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object])\r\n], DetailOperation);\r\nexport { DetailOperation };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-detail-operation.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-detail-operation/cmy-detail-operation.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, ModalController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante, Depense } from \"../cmy-model/cmy.model\";\r\nimport { DetailOperation } from \"../cmy-detail-operation/cmy-detail-operation\";\r\nimport { ModalChoixEvent } from '../cmy-modal/modal-choix-event';\r\nimport { Restangular } from 'ngx-restangular';\r\nvar ListeOperation = (function () {\r\n    function ListeOperation(nav, constante, loadingCtrl, restangular, toastCtrl, modalController) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.toastCtrl = toastCtrl;\r\n        this.modalController = modalController;\r\n        this.peopleByCountry = [{ 'pays': 'fr', 'people': [{ 'name': 'totot' }, { 'name': 'totot2' }, { 'name': 'totot3' }] }, { 'pays': 'gb', 'people': [{ 'name': 'tototgg' }, { 'name': 'tgogtgot2' }, { 'name': 'tgggotot3' }] }];\r\n        this.loading = this.loadingCtrl.create();\r\n        this.action = { 'encours': false };\r\n    }\r\n    ListeOperation.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        this.restangular.all('user/' + this.constante.user.id + '/operations').getList().subscribe(function (operations) {\r\n            _this.tableauOperations = operations;\r\n            _this.tableauOperationsInitial = operations;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.loading.dismiss();\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    ListeOperation.prototype.detail = function (operation) {\r\n        console.log('tap...');\r\n        if (this.action.encours) {\r\n            return;\r\n        }\r\n        this.action = { 'encours': true };\r\n        console.log('tap ok');\r\n        this.nav.push(DetailOperation, { theOperation: operation, action: this.action });\r\n    };\r\n    ;\r\n    ListeOperation.prototype.transfert = function (operationAvecDepense) {\r\n        var _this = this;\r\n        console.log(\"press...\");\r\n        if (this.action.encours) {\r\n            return;\r\n        }\r\n        this.action = { 'encours': true };\r\n        console.log(\"press ok\");\r\n        if (operationAvecDepense.depense != null) {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Opération déjà utilisée!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            console.log(\"return transfert\");\r\n            this.action.encours = false;\r\n            return;\r\n        }\r\n        if (operationAvecDepense.operation.montant > 0) {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Merci de sélectionner un débit uniquement!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            console.log(\"return transfert\");\r\n            this.action.encours = false;\r\n            return;\r\n        }\r\n        var operation = operationAvecDepense.operation;\r\n        var modal = this.modalController.create(ModalChoixEvent);\r\n        modal.onDidDismiss(function (event) {\r\n            if (event == null) {\r\n                _this.action.encours = false;\r\n                return;\r\n            }\r\n            _this.loading = _this.loadingCtrl.create({\r\n                content: 'Enregistrement...',\r\n            });\r\n            _this.loading.present();\r\n            var depense = new Depense(_this.constante.user.id, event.id);\r\n            depense.idOperation = operation.id;\r\n            depense.montant = -operation.montant;\r\n            depense.commentaire = operation.description;\r\n            depense.date = operation.date;\r\n            _this.restangular.one(\"depense\").post(\"save\", depense).subscribe(function (resp) {\r\n                // Ajout à la liste\r\n                _this.loading.dismissAll();\r\n                console.log(\"dépense sauvée\");\r\n                _this.action.encours = false;\r\n                depense.id = resp.id;\r\n                operationAvecDepense.depense = depense;\r\n            }, function (errorResponse) {\r\n                _this.constante.traiteErreur(errorResponse, _this);\r\n                _this.action.encours = false;\r\n            });\r\n        });\r\n        modal.present();\r\n    };\r\n    ;\r\n    ListeOperation.prototype.filtreOperation = function (ev) {\r\n        console.log('Filtre');\r\n        var val = ev.target.value;\r\n        // if the value is an empty string don't filter the items\r\n        if (val && val.trim() != '') {\r\n            this.tableauOperations = this.tableauOperationsInitial.filter(function (item) {\r\n                return (JSON.stringify(item).toLocaleLowerCase().indexOf(val.toLowerCase()) > -1);\r\n            });\r\n        }\r\n        else {\r\n            this.tableauOperations = this.tableauOperationsInitial;\r\n        }\r\n    };\r\n    ;\r\n    return ListeOperation;\r\n}());\r\nListeOperation = __decorate([\r\n    Component({\r\n        selector: 'liste-operation',\r\n        templateUrl: 'cmy-liste-operation.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _e || Object, typeof (_f = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _f || Object])\r\n], ListeOperation);\r\nexport { ListeOperation };\r\n;\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-liste-operation.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-liste-operation/cmy-liste-operation.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport 'rxjs/Rx';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Events, LoadingController, NavController, ToastController } from \"ionic-angular\";\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nvar ListeUser = (function () {\r\n    function ListeUser(angularEvents, nav, constante, loadingCtrl, restangular, toastCtrl) {\r\n        this.angularEvents = angularEvents;\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.toastCtrl = toastCtrl;\r\n    }\r\n    ListeUser.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.restangular.all('user').getList().subscribe(function (users) {\r\n            _this.users = users;\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ListeUser.prototype.swapUser = function (user) {\r\n        var _this = this;\r\n        localStorage.removeItem('id_token');\r\n        localStorage.removeItem('user');\r\n        user.password = \"BRUTEFORCE!!!\";\r\n        this.restangular.one(\"user\").post(\"login\", user).subscribe(function (resp) {\r\n            localStorage.setItem('id_token', resp.id);\r\n            localStorage.setItem('user', JSON.stringify(resp.user));\r\n            _this.constante.user = resp.user;\r\n            _this.constante.presentToastAvecPosition(\"Nouvel utilisateur : \" + user.prenom, \"bottom\");\r\n            _this.angularEvents.publish(\"swapUser\", resp.user);\r\n            _this.nav.pop();\r\n        }, function (errorResponse) {\r\n            console.log(\"Error with status code\", errorResponse.status);\r\n        });\r\n    };\r\n    return ListeUser;\r\n}());\r\nListeUser = __decorate([\r\n    Component({\r\n        selector: 'cmy-liste-user',\r\n        templateUrl: 'cmy-liste-user.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Events !== \"undefined\" && Events) === \"function\" && _a || Object, typeof (_b = typeof NavController !== \"undefined\" && NavController) === \"function\" && _b || Object, typeof (_c = typeof Constante !== \"undefined\" && Constante) === \"function\" && _c || Object, typeof (_d = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object])\r\n], ListeUser);\r\nexport { ListeUser };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-liste-user.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-page-test/cmy-liste-user.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport 'rxjs/Rx';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Events, LoadingController, NavController, ToastController } from \"ionic-angular\";\r\nimport { Constante } from \"../cmy-model/cmy.model\";\r\nimport { ListeUser } from \"./cmy-liste-user\";\r\nimport { AppVersion } from \"@ionic-native/app-version\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nvar PageTest = (function () {\r\n    function PageTest(angularEvents, appVersion, nav, constante, loadingCtrl, restangular, toastCtrl) {\r\n        this.angularEvents = angularEvents;\r\n        this.appVersion = appVersion;\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.restangular = restangular;\r\n        this.toastCtrl = toastCtrl;\r\n        this.user = this.constante.user;\r\n        this.settingsForm = new FormGroup({\r\n            adresseIP: new FormControl('')\r\n        });\r\n    }\r\n    ;\r\n    PageTest.prototype.ionViewDidLoad = function () {\r\n        this.getVersion();\r\n    };\r\n    ;\r\n    PageTest.prototype.ping = function () {\r\n        var ip = this.settingsForm.get(\"adresseIP\").value;\r\n        var ipList = [{ query: ip, timeout: 10, retry: 5, version: 'v4' }];\r\n    };\r\n    PageTest.prototype.resetData = function () {\r\n        var _this = this;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.tpsReponseTraitement = 0;\r\n        this.tpsReponseCouchbase = 0;\r\n        this.tpsReponseServeur = 0;\r\n        this.loading.present();\r\n        this.restangular.one(\"utilitaire/initialisation\").get().toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            var toast = _this.toastCtrl.create({\r\n                message: \"Données réinitialisées!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ;\r\n    PageTest.prototype.getVersion = function () {\r\n        var _this = this;\r\n        this.appVersion.getVersionCode().then(function (rep) {\r\n            _this.version1 = rep;\r\n        }, function (error) {\r\n            _this.version1 = \"--\";\r\n            // console.log(error);\r\n        });\r\n        this.appVersion.getVersionNumber().then(function (rep) {\r\n            _this.version2 = rep;\r\n        }, function (error) {\r\n            _this.version2 = \"--\";\r\n        });\r\n    };\r\n    PageTest.prototype.checkInfra = function () {\r\n        var _this = this;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        this.etatServeur = \"thumbs-down\";\r\n        this.etatDatabase = \"thumbs-down\";\r\n        this.colorServeur = \"danger\";\r\n        this.colorDatabase = \"danger\";\r\n        var dateAppel = new Date();\r\n        this.restangular.one(\"utilitaire/checkReseau\").get().toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            _this.etatServeur = \"thumbs-up\";\r\n            _this.colorServeur = \"secondary\";\r\n            var timeFinServeur = rep.message.split(\":\")[1];\r\n            _this.tpsReponseServeur = new Date().getTime() - dateAppel.getTime();\r\n            console.log(\"Appel : \" + dateAppel.getTime());\r\n        }, function (error) {\r\n            _this.etatServeur = \"thumbs-down\";\r\n            _this.colorServeur = \"danger\";\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n        this.restangular.one(\"utilitaire/checkDatabase\").get().toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            _this.etatDatabase = \"thumbs-up\";\r\n            _this.colorDatabase = \"secondary\";\r\n            var timeServeur = rep.message.split(\":\")[1];\r\n            var timeFin = rep.message.split(\":\")[2];\r\n            _this.tpsReponseCouchbase = timeFin - timeServeur;\r\n            console.log(\"Appel : \" + dateAppel.getTime());\r\n        }, function (error) {\r\n            _this.etatDatabase = \"thumbs-down\";\r\n            _this.colorDatabase = \"danger\";\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n        this.restangular.one(\"utilitaire/checkPerformance\").get().toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            _this.etatPerformance = \"thumbs-up\";\r\n            _this.colorPerformance = \"secondary\";\r\n            var timeFin = rep.stop;\r\n            var timeDebut = rep.start;\r\n            _this.tpsReponseTraitement = timeFin - timeDebut;\r\n            if (_this.tpsReponseTraitement > 1000) {\r\n                _this.etatPerformance = \"thumbs-down\";\r\n                _this.colorPerformance = \"danger\";\r\n            }\r\n        }, function (error) {\r\n            _this.etatPerformance = \"thumbs-down\";\r\n            _this.colorPerformance = \"danger\";\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ;\r\n    PageTest.prototype.purgeServeur = function () {\r\n        var _this = this;\r\n        this.loading = this.loadingCtrl.create();\r\n        this.loading.present();\r\n        this.restangular.one(\"utilitaire/purgeServeur\").get().toPromise().then(function (rep) {\r\n            _this.loading.dismissAll();\r\n            var toast = _this.toastCtrl.create({\r\n                message: \"Données réinitialisées : \" + rep.message + \"!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }, function (error) {\r\n            _this.constante.traiteErreur(error, _this);\r\n        });\r\n    };\r\n    ;\r\n    PageTest.prototype.alerteur = function () {\r\n        this.constante.presentToast(\"Appui long pour déclencher!\");\r\n    };\r\n    ;\r\n    PageTest.prototype.swapUser = function () {\r\n        var _this = this;\r\n        this.nav.push(ListeUser);\r\n        this.angularEvents.subscribe(\"swapUser\", function (resp) {\r\n            console.log(\"SWAP TO : \" + resp);\r\n            _this.user = resp;\r\n        });\r\n    };\r\n    ;\r\n    return PageTest;\r\n}());\r\nPageTest = __decorate([\r\n    Component({\r\n        selector: 'cmy-page-test',\r\n        templateUrl: 'cmy-page-test.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Events !== \"undefined\" && Events) === \"function\" && _a || Object, typeof (_b = typeof AppVersion !== \"undefined\" && AppVersion) === \"function\" && _b || Object, typeof (_c = typeof NavController !== \"undefined\" && NavController) === \"function\" && _c || Object, typeof (_d = typeof Constante !== \"undefined\" && Constante) === \"function\" && _d || Object, typeof (_e = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _e || Object, typeof (_f = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _f || Object, typeof (_g = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _g || Object])\r\n], PageTest);\r\nexport { PageTest };\r\nvar _a, _b, _c, _d, _e, _f, _g;\r\n//# sourceMappingURL=cmy-page-test.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-page-test/cmy-page-test.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Home } from \"../cmy-home/cmy-home\";\r\nimport { WalkthroughPage } from \"../walkthrough/walkthrough\";\r\nimport CryptoJS from 'crypto-js';\r\nvar ClavierVirtuel = (function () {\r\n    function ClavierVirtuel(nav, constante, loadingCtrl, alertCtrl, restangular, alertController) {\r\n        this.nav = nav;\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.alertCtrl = alertCtrl;\r\n        this.restangular = restangular;\r\n        this.alertController = alertController;\r\n    }\r\n    ;\r\n    ClavierVirtuel.prototype.ionViewDidLoad = function () {\r\n        this.codeReel = localStorage.getItem(\"codecourt\");\r\n        this.codeSaisie = \"\";\r\n        this.codeSaisieEtoile = \"\";\r\n        this.nbEssai = 3;\r\n    };\r\n    ;\r\n    ClavierVirtuel.prototype.connexionClassique = function () {\r\n        this.nav.setRoot(WalkthroughPage);\r\n    };\r\n    ;\r\n    ClavierVirtuel.prototype.saisie = function (nombre) {\r\n        var _this = this;\r\n        this.codeSaisie = this.codeSaisie + nombre;\r\n        this.codeSaisieEtoile += \"*\";\r\n        if (this.codeSaisie.length == 4) {\r\n            var user = JSON.parse(localStorage.getItem('user'));\r\n            var codesaisieCrypte = CryptoJS.PBKDF2(this.codeSaisie, \"AlwaysTheSameSalt\", { keySize: 512 / 32, iterations: 5 }).toString();\r\n            // Contrôle du code\r\n            if (codesaisieCrypte == this.codeReel) {\r\n                var user_1 = JSON.parse(localStorage.getItem(\"user\"));\r\n                this.restangular.one(\"user\").post(\"loginCourt\", user_1).subscribe(function (resp) {\r\n                    localStorage.setItem('id_token', resp.id);\r\n                    localStorage.setItem('user', JSON.stringify(resp.user));\r\n                    // let hash = CryptoJS.SHA256(\"ddd\").toString(CryptoJS.enc.Hex);;\r\n                    if (resp.user.codecourt != null && resp.user.codecourt.length > 0) {\r\n                        var derivedKey = CryptoJS.PBKDF2(resp.user.codecourt, \"AlwaysTheSameSalt\", {\r\n                            keySize: 512 / 32,\r\n                            iterations: 5\r\n                        }).toString();\r\n                        //     let derivedKey = bcryptjs.hashSync(resp.user.codecourt, resp.user.id);\r\n                        localStorage.setItem(\"codecourt\", derivedKey);\r\n                    }\r\n                    _this.constante.login(resp.user);\r\n                    _this.nav.setRoot(Home);\r\n                }, function (errorResponse) {\r\n                    _this.traiteErreur();\r\n                    _this.constante.traiteErreur(errorResponse, _this);\r\n                });\r\n            }\r\n            else {\r\n                this.constante.presentToast(\"Le code saisi est incorrect!!!\");\r\n                this.traiteErreur();\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    ClavierVirtuel.prototype.traiteErreur = function () {\r\n        this.codeSaisieEtoile = \"\";\r\n        this.codeSaisie = \"\";\r\n        this.nbEssai--;\r\n        if (this.nbEssai == 1) {\r\n            this.constante.presentToast(\"Attention plus que un essai!!!\");\r\n        }\r\n        ;\r\n        if (this.nbEssai <= 0) {\r\n            this.constante.presentToast(\"Code verouillé!!\");\r\n            localStorage.removeItem(\"codecourt\");\r\n            this.nav.setRoot(WalkthroughPage);\r\n        }\r\n        ;\r\n    };\r\n    return ClavierVirtuel;\r\n}());\r\nClavierVirtuel = __decorate([\r\n    Component({\r\n        selector: 'clavier-virtuel',\r\n        templateUrl: 'cmy-clavier-virtuel.html',\r\n        providers: [Restangular]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Constante !== \"undefined\" && Constante) === \"function\" && _b || Object, typeof (_c = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _c || Object, typeof (_d = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _d || Object, typeof (_e = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _e || Object, typeof (_f = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _f || Object])\r\n], ClavierVirtuel);\r\nexport { ClavierVirtuel };\r\nvar _a, _b, _c, _d, _e, _f;\r\n//# sourceMappingURL=cmy-clavier-virtuel.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-clavier-virtuel/cmy-clavier-virtuel.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Platform, MenuController, Nav, App, AlertController } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { WalkthroughPage } from '../pages/walkthrough/walkthrough';\r\nimport { ListeEvent } from '../pages/cmy-liste-event/cmy-liste-event';\r\nimport { ListeOperation } from '../pages/cmy-liste-operation/cmy-liste-operation';\r\nimport { GestionAmi } from \"../pages/cmy-gestion-ami/cmy-gestion-ami\";\r\nimport { ListeMessage } from \"../pages/cmy-list-message/cmy-liste-message\";\r\nimport { GestionProfile } from \"../pages/cmy-gestion-profile/cmy-gestion-profile\";\r\nimport { PageTest } from \"../pages/cmy-page-test/cmy-page-test\";\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Constante } from \"../pages/cmy-model/cmy.model\";\r\nimport { Home } from \"../pages/cmy-home/cmy-home\";\r\nimport { ClavierVirtuel } from \"../pages/cmy-clavier-virtuel/cmy-clavier-virtuel\";\r\nimport { Badge } from '@ionic-native/badge';\r\nvar MyApp = (function () {\r\n    function MyApp(platform, menu, app, alertCtrl, splashScreen, statusBar, restangular, constante, badge) {\r\n        var _this = this;\r\n        this.platform = platform;\r\n        this.menu = menu;\r\n        this.app = app;\r\n        this.alertCtrl = alertCtrl;\r\n        this.splashScreen = splashScreen;\r\n        this.statusBar = statusBar;\r\n        this.restangular = restangular;\r\n        this.constante = constante;\r\n        this.badge = badge;\r\n        // rootPage: any = TabsNavigationPage;\r\n        this.background = false;\r\n        this.nbMessage = 0;\r\n        platform.pause.subscribe(function (rep) {\r\n            _this.background = true;\r\n            clearTimeout(_this.timer);\r\n            var that = _this;\r\n            _this.timer = setInterval(function () {\r\n                that.refreshMessagerie();\r\n            }, 600000);\r\n        });\r\n        platform.resume.subscribe(function (rep) {\r\n            _this.background = false;\r\n            clearTimeout(_this.timer);\r\n            _this.refreshMessagerie();\r\n            var that = _this;\r\n            _this.timer = setInterval(function () {\r\n                that.refreshMessagerie();\r\n            }, 180000);\r\n        });\r\n        platform.ready().then(function () {\r\n            // Okay, so the platform is ready and our plugins are available.\r\n            // Here you can do any higher level native things you might need.\r\n            _this.splashScreen.hide();\r\n            _this.statusBar.styleDefault();\r\n            var codecourt = localStorage.getItem(\"codecourt\");\r\n            if (codecourt != null && codecourt != \"----\" && codecourt != \"\") {\r\n                _this.rootPage = ClavierVirtuel;\r\n            }\r\n            else {\r\n                _this.rootPage = WalkthroughPage;\r\n            }\r\n            _this.ionicApp = _this.app._appRoot;\r\n            _this.platform.registerBackButtonAction(function () {\r\n                var activePortal = _this.ionicApp._loadingPortal.getActive() ||\r\n                    _this.ionicApp._modalPortal.getActive() ||\r\n                    _this.ionicApp._toastPortal.getActive() ||\r\n                    _this.ionicApp._overlayPortal.getActive();\r\n                if (activePortal) {\r\n                    // ready = false;\r\n                    activePortal.dismiss();\r\n                    activePortal.onDidDismiss(function () { });\r\n                    console.log(\"handled with portal\");\r\n                    return;\r\n                }\r\n                if (_this.nav.length() == 1)\r\n                    _this.confirmExit();\r\n                else\r\n                    _this.nav.pop();\r\n            });\r\n        });\r\n        this.constante.userChange.subscribe(function (event) {\r\n            if (_this.constante.user == null)\r\n                return;\r\n            if (_this.constante.user.phone == null) {\r\n                var alert = _this.alertCtrl.create({\r\n                    title: 'Votre profil est incomplet... Rajoutez votre numéro de téléphone pour rejoindre vos amis.',\r\n                    message: \"Voulez-vous compléter votre profil maintenant?\",\r\n                    buttons: [\r\n                        {\r\n                            text: 'Oui',\r\n                            role: 'cancel',\r\n                            handler: function () {\r\n                                // Transofrmation de l'invit en relation\r\n                                _this.app.getRootNav().push(GestionProfile);\r\n                            }\r\n                        },\r\n                        {\r\n                            text: 'Non',\r\n                            handler: function () {\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            }\r\n            console.log(\"user logged in!!!\");\r\n            // Lancement de la messagerie\r\n            var that = _this;\r\n            _this.refreshMessagerie();\r\n            _this.timer = setInterval(function () {\r\n                that.refreshMessagerie();\r\n            }, 180000);\r\n        });\r\n        this.pages = [\r\n            { title: 'Home', icon: 'home', component: Home },\r\n            { title: 'Event', icon: 'people', component: ListeEvent },\r\n            { title: 'Operation', icon: 'swap', component: ListeOperation },\r\n            //  { title: 'Ordres', icon: 'cash', component: ListeOrdre },\r\n            { title: 'Message', icon: 'mail', component: ListeMessage },\r\n            { title: 'Amis', icon: 'people', component: GestionAmi },\r\n            { title: 'Dev Only!', icon: 'bug', component: PageTest }\r\n        ];\r\n        this.pushPages = [\r\n            { title: 'Profile', icon: 'settings', component: GestionProfile }\r\n        ];\r\n    }\r\n    ;\r\n    MyApp.prototype.confirmExit = function () {\r\n        var _this = this;\r\n        var alert = this.alertCtrl.create({\r\n            title: \"Quitter CoMoneyTy?\",\r\n            message: \"Etes-vous sûr de voir quitter CoMoneyTy?\",\r\n            buttons: [\r\n                {\r\n                    text: \"Annuler\",\r\n                    handler: function () {\r\n                        return;\r\n                    }\r\n                }, {\r\n                    text: \"OK\",\r\n                    handler: function () {\r\n                        _this.platform.exitApp();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    };\r\n    ;\r\n    MyApp.prototype.refreshMessagerie = function () {\r\n        var _this = this;\r\n        ///console.log(\"Salut mec!\");\r\n        if (this.background)\r\n            return;\r\n        if (this.constante.user == null || this.constante.user.id == null) {\r\n            console.log(\"Not logged\");\r\n            return;\r\n        }\r\n        this.restangular.one('user/' + this.constante.user.id + '/nbMessagesNonLu').get().subscribe(function (rep) {\r\n            var newNb = rep.message.split(\"=\")[1];\r\n            if (_this.nbMessage != newNb) {\r\n                _this.nbMessage = newNb;\r\n                _this.badge.set(_this.nbMessage);\r\n            }\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    MyApp.prototype.openPage = function (page) {\r\n        // close the menu when (tap)ing a link from the menu\r\n        this.menu.close();\r\n        // navigate to the new page if it is not the current page\r\n        this.nav.setRoot(page.component);\r\n    };\r\n    ;\r\n    MyApp.prototype.pushPage = function (page) {\r\n        // close the menu when (tap)ing a link from the menu\r\n        this.menu.close();\r\n        // rootNav is now deprecated (since beta 11) (https://forum.ionicframework.com/t/cant-access-rootnav-after-upgrade-to-beta-11/59889)\r\n        this.app.getRootNav().push(page.component);\r\n    };\r\n    ;\r\n    return MyApp;\r\n}());\r\n__decorate([\r\n    ViewChild(Nav),\r\n    __metadata(\"design:type\", typeof (_a = typeof Nav !== \"undefined\" && Nav) === \"function\" && _a || Object)\r\n], MyApp.prototype, \"nav\", void 0);\r\nMyApp = __decorate([\r\n    Component({\r\n        selector: 'app-root',\r\n        templateUrl: 'app.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_b = typeof Platform !== \"undefined\" && Platform) === \"function\" && _b || Object, typeof (_c = typeof MenuController !== \"undefined\" && MenuController) === \"function\" && _c || Object, typeof (_d = typeof App !== \"undefined\" && App) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof SplashScreen !== \"undefined\" && SplashScreen) === \"function\" && _f || Object, typeof (_g = typeof StatusBar !== \"undefined\" && StatusBar) === \"function\" && _g || Object, typeof (_h = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _h || Object, typeof (_j = typeof Constante !== \"undefined\" && Constante) === \"function\" && _j || Object, typeof (_k = typeof Badge !== \"undefined\" && Badge) === \"function\" && _k || Object])\r\n], MyApp);\r\nexport { MyApp };\r\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n//# sourceMappingURL=app.component.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, Input, ElementRef, Renderer } from '@angular/core';\r\nimport { isPresent } from 'ionic-angular/util/util';\r\nvar PreloadImage = (function () {\r\n    function PreloadImage(_elementRef, _renderer) {\r\n        this._elementRef = _elementRef;\r\n        this._renderer = _renderer;\r\n        this._src = '';\r\n        this._img = new Image();\r\n    }\r\n    Object.defineProperty(PreloadImage.prototype, \"src\", {\r\n        set: function (val) {\r\n            this._src = isPresent(val) ? val : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PreloadImage.prototype, \"ratio\", {\r\n        set: function (ratio) {\r\n            this._ratio = ratio || null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PreloadImage.prototype.ngOnChanges = function (changes) {\r\n        var ratio_height = (this._ratio.h / this._ratio.w * 100) + \"%\";\r\n        // Conserve aspect ratio (see: http://stackoverflow.com/a/10441480/1116959)\r\n        this._renderer.setElementStyle(this._elementRef.nativeElement, 'padding-bottom', ratio_height);\r\n        this._update();\r\n        // console.log(\"CHANGES preload-image\", this._src);\r\n        // console.log(changes['src'].isFirstChange());\r\n    };\r\n    PreloadImage.prototype._update = function () {\r\n        var _this = this;\r\n        if (isPresent(this.alt)) {\r\n            this._img.alt = this.alt;\r\n        }\r\n        if (isPresent(this.title)) {\r\n            this._img.title = this.title;\r\n        }\r\n        this._img.addEventListener('load', function () {\r\n            _this._elementRef.nativeElement.appendChild(_this._img);\r\n            _this._loaded(true);\r\n        });\r\n        this._img.src = this._src;\r\n        this._loaded(false);\r\n    };\r\n    PreloadImage.prototype._loaded = function (isLoaded) {\r\n        this._elementRef.nativeElement.classList[isLoaded ? 'add' : 'remove']('img-loaded');\r\n    };\r\n    return PreloadImage;\r\n}());\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], PreloadImage.prototype, \"alt\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], PreloadImage.prototype, \"title\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String),\r\n    __metadata(\"design:paramtypes\", [String])\r\n], PreloadImage.prototype, \"src\", null);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object),\r\n    __metadata(\"design:paramtypes\", [Object])\r\n], PreloadImage.prototype, \"ratio\", null);\r\nPreloadImage = __decorate([\r\n    Component({\r\n        selector: 'preload-image',\r\n        templateUrl: 'preload-image.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" && _a || Object, typeof (_b = typeof Renderer !== \"undefined\" && Renderer) === \"function\" && _b || Object])\r\n], PreloadImage);\r\nexport { PreloadImage };\r\nvar _a, _b;\r\n//# sourceMappingURL=preload-image.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/components/preload-image/preload-image.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Directive, HostBinding, ElementRef } from '@angular/core';\r\nvar ShowHideInput = (function () {\r\n    function ShowHideInput(el) {\r\n        this.el = el;\r\n        this.type = 'password';\r\n    }\r\n    ShowHideInput.prototype.changeType = function (type) {\r\n        this.type = type;\r\n        this.el.nativeElement.children[0].type = this.type;\r\n    };\r\n    return ShowHideInput;\r\n}());\r\n__decorate([\r\n    HostBinding(),\r\n    __metadata(\"design:type\", String)\r\n], ShowHideInput.prototype, \"type\", void 0);\r\nShowHideInput = __decorate([\r\n    Directive({\r\n        selector: '[show-hide-input]'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" && _a || Object])\r\n], ShowHideInput);\r\nexport { ShowHideInput };\r\nvar _a;\r\n//# sourceMappingURL=show-hide-input.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/components/show-hide-password/show-hide-input.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ContentChild } from '@angular/core';\r\nimport { ShowHideInput } from './show-hide-input';\r\nvar ShowHideContainer = (function () {\r\n    function ShowHideContainer() {\r\n        this.show = false;\r\n    }\r\n    ShowHideContainer.prototype.toggleShow = function () {\r\n        this.show = !this.show;\r\n        if (this.show) {\r\n            this.input.changeType(\"text\");\r\n        }\r\n        else {\r\n            this.input.changeType(\"password\");\r\n        }\r\n    };\r\n    return ShowHideContainer;\r\n}());\r\n__decorate([\r\n    ContentChild(ShowHideInput),\r\n    __metadata(\"design:type\", typeof (_a = typeof ShowHideInput !== \"undefined\" && ShowHideInput) === \"function\" && _a || Object)\r\n], ShowHideContainer.prototype, \"input\", void 0);\r\nShowHideContainer = __decorate([\r\n    Component({\r\n        selector: 'show-hide-container',\r\n        templateUrl: 'show-hide-password.html',\r\n        host: {\r\n            'class': 'show-hide-password'\r\n        }\r\n    }),\r\n    __metadata(\"design:paramtypes\", [])\r\n], ShowHideContainer);\r\nexport { ShowHideContainer };\r\nvar _a;\r\n//# sourceMappingURL=show-hide-container.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/components/show-hide-password/show-hide-container.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController } from 'ionic-angular';\r\nimport 'rxjs/Rx';\r\nimport { Restangular } from 'ngx-restangular';\r\nimport { Constante } from '../cmy-model/cmy.model';\r\nimport { DetailOrdre } from \"../cmy-detail-ordre/cmy-detail-ordre\";\r\nimport { PaiementOrdre } from \"../cmy-paiement-ordre/cmy-paiement-ordre\";\r\nvar ListeOrdre = (function () {\r\n    function ListeOrdre(constante, loadingCtrl, nav, restangular, toastCtrl) {\r\n        this.constante = constante;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.nav = nav;\r\n        this.restangular = restangular;\r\n        this.toastCtrl = toastCtrl;\r\n        this.loading = this.loadingCtrl.create();\r\n    }\r\n    ListeOrdre.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.loading.present();\r\n        // This will query /accounts and return a observable.\r\n        this.restangular.all('user/ordres').getList().subscribe(function (ordres) {\r\n            _this.ordres = ordres;\r\n            _this.loading.dismiss();\r\n        }, function (errorResponse) {\r\n            _this.constante.traiteErreur(errorResponse, _this);\r\n        });\r\n    };\r\n    ;\r\n    ListeOrdre.prototype.detail = function (ordre) {\r\n        this.nav.push(DetailOrdre, { theOrdre: ordre });\r\n    };\r\n    ;\r\n    ListeOrdre.prototype.traite = function (ordre) {\r\n        if (ordre.mouvement.etat == \"Réalisé\") {\r\n            var toast = this.toastCtrl.create({\r\n                message: \"Le paiement a déjà été réalisé!\",\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n        this.nav.push(PaiementOrdre, { theOrdre: ordre });\r\n    };\r\n    ;\r\n    return ListeOrdre;\r\n}());\r\nListeOrdre = __decorate([\r\n    Component({\r\n        selector: 'liste-ordre',\r\n        templateUrl: 'cmy-liste-ordre.html'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Constante !== \"undefined\" && Constante) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof NavController !== \"undefined\" && NavController) === \"function\" && _c || Object, typeof (_d = typeof Restangular !== \"undefined\" && Restangular) === \"function\" && _d || Object, typeof (_e = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _e || Object])\r\n], ListeOrdre);\r\nexport { ListeOrdre };\r\nvar _a, _b, _c, _d, _e;\r\n//# sourceMappingURL=cmy-liste-ordre.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cmy-liste-ordre/cmy-liste-ordre.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicApp, IonicModule } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { Contacts } from \"@ionic-native/contacts\";\r\nimport { ListeEvent } from '../pages/cmy-liste-event/cmy-liste-event';\r\nimport { ListeOperation } from '../pages/cmy-liste-operation/cmy-liste-operation';\r\nimport { CreationEventPage } from '../pages/cmy-creation-event/cmy-creation-event';\r\nimport { CreationDepensePage } from '../pages/cmy-creation-depense/cmy-creation-depense';\r\nimport { DetailEventPage } from '../pages/cmy-detail-event/cmy-detail-event';\r\nimport { AjoutParticipantPage } from '../pages/cmy-ajout-participant/cmy-ajout-participant';\r\nimport { ListeDepense } from \"../pages/cmy-liste-depense/cmy-liste-depense\";\r\nimport { ModalPhoto } from '../pages/cmy-modal/modal-photo';\r\nimport { ModalChoixEvent } from '../pages/cmy-modal/modal-choix-event';\r\nimport { Constante } from '../pages/cmy-model/cmy.model';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { ForgotPasswordPage } from '../pages/forgot-password/forgot-password';\r\nimport { PreloadImage } from '../components/preload-image/preload-image';\r\nimport { BackgroundImage } from '../components/background-image/background-image';\r\nimport { ShowHideContainer } from '../components/show-hide-password/show-hide-container';\r\nimport { ShowHideInput } from '../components/show-hide-password/show-hide-input';\r\nimport { ColorRadio } from '../components/color-radio/color-radio';\r\nimport { WalkthroughPage } from '../pages/walkthrough/walkthrough';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpModule } from '@angular/http';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { Camera } from '@ionic-native/camera';\r\n// Functionalities\r\nimport { FacebookLoginService } from '../pages/login/facebook-login.service';\r\nimport { GoogleLoginService } from '../pages/login/google-login.service';\r\nimport { RestangularModule } from 'ngx-restangular';\r\nimport { DetailOperation } from \"../pages/cmy-detail-operation/cmy-detail-operation\";\r\nimport { ModalChoixOperation } from \"../pages/cmy-modal/modal-choix-operation\";\r\nimport { SMS } from '@ionic-native/sms';\r\nimport { GestionAmi } from \"../pages/cmy-gestion-ami/cmy-gestion-ami\";\r\nimport { InvitationAmi } from \"../pages/cmy-invitation-ami/cmy-invitation-ami\";\r\nimport { ListeMessage } from \"../pages/cmy-list-message/cmy-liste-message\";\r\nimport { GestionProfile } from \"../pages/cmy-gestion-profile/cmy-gestion-profile\";\r\nimport { BilanEvent } from \"../pages/cmy-bilan-event/cmy-bilan-event\";\r\nimport { DetailMessage } from \"../pages/cmy-detail-message/cmy-detail-message\";\r\nimport { PageTest } from \"../pages/cmy-page-test/cmy-page-test\";\r\nimport { MenuCircular } from \"../components/menu-circular/menu-circular\";\r\nimport { ListeOrdre } from \"../pages/cmy-liste-ordre/cmy-liste-ordre\";\r\nimport { PaiementOrdre } from \"../pages/cmy-paiement-ordre/cmy-paiement-ordre\";\r\nimport { DetailOrdre } from \"../pages/cmy-detail-ordre/cmy-detail-ordre\";\r\nimport { PayPal } from \"@ionic-native/paypal\";\r\nimport { PrivacyPolicyPage } from \"../pages/privacy-policy/privacy-policy\";\r\nimport { ListeUser } from \"../pages/cmy-page-test/cmy-liste-user\";\r\nimport { ListeHistorique } from \"../pages/cmy-liste-historique/cmy-liste-historique\";\r\nimport { AppVersion } from \"@ionic-native/app-version\";\r\nimport { Home } from \"../pages/cmy-home/cmy-home\";\r\nimport { ClavierVirtuel } from \"../pages/cmy-clavier-virtuel/cmy-clavier-virtuel\";\r\nimport { Badge } from \"@ionic-native/badge\";\r\n// Function for setting the default restangular configuration\r\nexport function RestangularConfigFactory(RestangularProvider) {\r\n    RestangularProvider.setBaseUrl('http://vulcanjibe.ddns.net:8080/CoMoneyTy-0.0.1-SNAPSHOT/rest');\r\n    // set static header\r\n    RestangularProvider.setDefaultHeaders({ 'Authorization': 'Bearer UDXPx-Xko0w4BRKajozCVy20X11MRZs1' });\r\n    // by each request to the server receive a token and update headers with it\r\n    RestangularProvider.addFullRequestInterceptor(function (element, operation, path, url, headers, params) {\r\n        var bearerToken = localStorage.getItem('id_token');\r\n        console.log(\"TOKEN = \" + bearerToken);\r\n        return {\r\n            headers: Object.assign({}, headers, { Authorization: \"TOKEN=\" + bearerToken })\r\n        };\r\n    });\r\n}\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    return AppModule;\r\n}());\r\nAppModule = __decorate([\r\n    NgModule({\r\n        declarations: [\r\n            MyApp,\r\n            Home,\r\n            ClavierVirtuel,\r\n            DetailEventPage,\r\n            PrivacyPolicyPage,\r\n            BilanEvent,\r\n            GestionProfile,\r\n            CreationDepensePage,\r\n            PageTest,\r\n            DetailOperation,\r\n            ListeDepense,\r\n            ListeOrdre,\r\n            GestionAmi,\r\n            InvitationAmi,\r\n            ListeMessage,\r\n            AjoutParticipantPage,\r\n            ModalPhoto,\r\n            ListeUser,\r\n            ModalChoixEvent,\r\n            PaiementOrdre,\r\n            DetailOrdre,\r\n            DetailMessage,\r\n            ModalChoixOperation,\r\n            CreationEventPage,\r\n            ListeHistorique,\r\n            ListeEvent,\r\n            ListeOperation,\r\n            LoginPage,\r\n            SignupPage,\r\n            ForgotPasswordPage,\r\n            WalkthroughPage,\r\n            PreloadImage,\r\n            MenuCircular,\r\n            BackgroundImage,\r\n            ShowHideContainer,\r\n            ShowHideInput,\r\n            ColorRadio\r\n        ],\r\n        imports: [\r\n            BrowserModule,\r\n            HttpModule,\r\n            RestangularModule.forRoot(RestangularConfigFactory),\r\n            IonicModule.forRoot(MyApp)\r\n        ],\r\n        bootstrap: [IonicApp],\r\n        entryComponents: [\r\n            MyApp,\r\n            Home,\r\n            ClavierVirtuel,\r\n            GestionProfile,\r\n            ListeUser,\r\n            PageTest,\r\n            PrivacyPolicyPage,\r\n            ListeMessage,\r\n            ListeOrdre,\r\n            PaiementOrdre,\r\n            DetailOrdre,\r\n            BilanEvent,\r\n            DetailMessage,\r\n            ListeEvent,\r\n            ListeHistorique,\r\n            DetailOperation,\r\n            ListeDepense,\r\n            GestionAmi,\r\n            ListeOperation,\r\n            ListeMessage,\r\n            CreationEventPage,\r\n            CreationDepensePage,\r\n            DetailEventPage,\r\n            InvitationAmi,\r\n            AjoutParticipantPage,\r\n            ModalPhoto,\r\n            ModalChoixEvent,\r\n            ModalChoixOperation,\r\n            LoginPage,\r\n            WalkthroughPage,\r\n            ForgotPasswordPage,\r\n            SignupPage\r\n        ],\r\n        providers: [\r\n            SMS,\r\n            Constante,\r\n            AppVersion,\r\n            Badge,\r\n            FacebookLoginService,\r\n            GoogleLoginService,\r\n            Camera,\r\n            Contacts,\r\n            PayPal,\r\n            SplashScreen,\r\n            StatusBar,\r\n            NativeStorage,\r\n            InAppBrowser,\r\n            Facebook,\r\n            GooglePlus,\r\n            Keyboard\r\n        ],\r\n        schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n    })\r\n], AppModule);\r\nexport { AppModule };\r\n//# sourceMappingURL=app.module.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/**\r\n * @fileoverview This file is generated by the Angular template compiler.\r\n * Do not edit.\r\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\r\n */\r\n/* tslint:disable */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as import0 from '@angular/core';\r\nimport * as import1 from './app.module';\r\nimport * as import2 from '@angular/common';\r\nimport * as import3 from 'ionic-angular/platform/dom-controller';\r\nimport * as import4 from 'ionic-angular/components/app/menu-controller';\r\nimport * as import5 from 'ionic-angular/components/app/app';\r\nimport * as import6 from 'ionic-angular/gestures/gesture-controller';\r\nimport * as import7 from 'ionic-angular/util/ng-module-loader';\r\nimport * as import8 from '@angular/platform-browser';\r\nimport * as import9 from '@angular/http';\r\nimport * as import10 from 'ngx-restangular/dist/esm/src/ngx-restangular.module';\r\nimport * as import11 from '@angular/forms';\r\nimport * as import12 from 'ionic-angular/module';\r\nimport * as import13 from 'ionic-angular/gestures/gesture-config';\r\nimport * as import14 from 'ngx-restangular/dist/esm/src/ngx-restangular-http';\r\nimport * as import15 from 'ngx-restangular/dist/esm/src/ngx-restangular';\r\nimport * as import16 from 'ionic-angular/components/action-sheet/action-sheet-controller';\r\nimport * as import17 from 'ionic-angular/components/alert/alert-controller';\r\nimport * as import18 from 'ionic-angular/util/events';\r\nimport * as import19 from 'ionic-angular/util/form';\r\nimport * as import20 from 'ionic-angular/tap-click/haptic';\r\nimport * as import21 from 'ionic-angular/platform/keyboard';\r\nimport * as import22 from 'ionic-angular/components/loading/loading-controller';\r\nimport * as import23 from 'ionic-angular/components/modal/modal-controller';\r\nimport * as import24 from 'ionic-angular/components/picker/picker-controller';\r\nimport * as import25 from 'ionic-angular/components/popover/popover-controller';\r\nimport * as import26 from 'ionic-angular/tap-click/tap-click';\r\nimport * as import27 from 'ionic-angular/components/toast/toast-controller';\r\nimport * as import28 from 'ionic-angular/transitions/transition-controller';\r\nimport * as import29 from '@ionic-native/sms/index';\r\nimport * as import30 from '../pages/cmy-model/cmy.model';\r\nimport * as import31 from '@ionic-native/app-version/index';\r\nimport * as import32 from '@ionic-native/badge/index';\r\nimport * as import33 from '@ionic-native/native-storage/index';\r\nimport * as import34 from '@ionic-native/facebook/index';\r\nimport * as import35 from '../pages/login/facebook-login.service';\r\nimport * as import36 from '@ionic-native/google-plus/index';\r\nimport * as import37 from '../pages/login/google-login.service';\r\nimport * as import38 from '@ionic-native/camera/index';\r\nimport * as import39 from '@ionic-native/contacts/index';\r\nimport * as import40 from '@ionic-native/paypal/index';\r\nimport * as import41 from '@ionic-native/splash-screen/index';\r\nimport * as import42 from '@ionic-native/status-bar/index';\r\nimport * as import43 from '@ionic-native/in-app-browser/index';\r\nimport * as import44 from '@ionic-native/keyboard/index';\r\nimport * as import45 from '../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory';\r\nimport * as import46 from '../../node_modules/ionic-angular/components/alert/alert-component.ngfactory';\r\nimport * as import47 from '../../node_modules/ionic-angular/components/app/app-root.ngfactory';\r\nimport * as import48 from '../../node_modules/ionic-angular/components/loading/loading-component.ngfactory';\r\nimport * as import49 from '../../node_modules/ionic-angular/components/modal/modal-component.ngfactory';\r\nimport * as import50 from '../../node_modules/ionic-angular/components/picker/picker-component.ngfactory';\r\nimport * as import51 from '../../node_modules/ionic-angular/components/popover/popover-component.ngfactory';\r\nimport * as import52 from '../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory';\r\nimport * as import53 from '../../node_modules/ionic-angular/components/toast/toast-component.ngfactory';\r\nimport * as import54 from './app.component.ngfactory';\r\nimport * as import55 from '../pages/cmy-home/cmy-home.ngfactory';\r\nimport * as import56 from '../pages/cmy-clavier-virtuel/cmy-clavier-virtuel.ngfactory';\r\nimport * as import57 from '../pages/cmy-gestion-profile/cmy-gestion-profile.ngfactory';\r\nimport * as import58 from '../pages/cmy-page-test/cmy-liste-user.ngfactory';\r\nimport * as import59 from '../pages/cmy-page-test/cmy-page-test.ngfactory';\r\nimport * as import60 from '../pages/privacy-policy/privacy-policy.ngfactory';\r\nimport * as import61 from '../pages/cmy-list-message/cmy-liste-message.ngfactory';\r\nimport * as import62 from '../pages/cmy-liste-ordre/cmy-liste-ordre.ngfactory';\r\nimport * as import63 from '../pages/cmy-paiement-ordre/cmy-paiement-ordre.ngfactory';\r\nimport * as import64 from '../pages/cmy-detail-ordre/cmy-detail-ordre.ngfactory';\r\nimport * as import65 from '../pages/cmy-bilan-event/cmy-bilan-event.ngfactory';\r\nimport * as import66 from '../pages/cmy-detail-message/cmy-detail-message.ngfactory';\r\nimport * as import67 from '../pages/cmy-liste-event/cmy-liste-event.ngfactory';\r\nimport * as import68 from '../pages/cmy-liste-historique/cmy-liste-historique.ngfactory';\r\nimport * as import69 from '../pages/cmy-detail-operation/cmy-detail-operation.ngfactory';\r\nimport * as import70 from '../pages/cmy-liste-depense/cmy-liste-depense.ngfactory';\r\nimport * as import71 from '../pages/cmy-gestion-ami/cmy-gestion-ami.ngfactory';\r\nimport * as import72 from '../pages/cmy-liste-operation/cmy-liste-operation.ngfactory';\r\nimport * as import73 from '../pages/cmy-creation-event/cmy-creation-event.ngfactory';\r\nimport * as import74 from '../pages/cmy-creation-depense/cmy-creation-depense.ngfactory';\r\nimport * as import75 from '../pages/cmy-detail-event/cmy-detail-event.ngfactory';\r\nimport * as import76 from '../pages/cmy-invitation-ami/cmy-invitation-ami.ngfactory';\r\nimport * as import77 from '../pages/cmy-ajout-participant/cmy-ajout-participant.ngfactory';\r\nimport * as import78 from '../pages/cmy-modal/modal-photo.ngfactory';\r\nimport * as import79 from '../pages/cmy-modal/modal-choix-event.ngfactory';\r\nimport * as import80 from '../pages/cmy-modal/modal-choix-operation.ngfactory';\r\nimport * as import81 from '../pages/login/login.ngfactory';\r\nimport * as import82 from '../pages/walkthrough/walkthrough.ngfactory';\r\nimport * as import83 from '../pages/forgot-password/forgot-password.ngfactory';\r\nimport * as import84 from '../pages/signup/signup.ngfactory';\r\nimport * as import85 from 'ngx-restangular/dist/esm/src/ngx-restangular.config';\r\nimport * as import86 from 'ionic-angular/navigation/url-serializer';\r\nimport * as import87 from 'ionic-angular/navigation/deep-linker';\r\nimport * as import88 from 'ionic-angular/platform/platform-registry';\r\nimport * as import89 from 'ionic-angular/platform/platform';\r\nimport * as import90 from 'ionic-angular/config/config';\r\nimport * as import91 from 'ionic-angular/util/module-loader';\r\nimport * as import92 from 'ionic-angular/config/mode-registry';\r\nimport * as import93 from './app.component';\r\nimport * as import94 from 'ionic-angular/components/app/app-root';\r\nvar AppModuleInjector = (function (_super) {\r\n    __extends(AppModuleInjector, _super);\r\n    function AppModuleInjector(parent) {\r\n        return _super.call(this, parent, [\r\n            import45.ActionSheetCmpNgFactory,\r\n            import46.AlertCmpNgFactory,\r\n            import47.IonicAppNgFactory,\r\n            import48.LoadingCmpNgFactory,\r\n            import49.ModalCmpNgFactory,\r\n            import50.PickerCmpNgFactory,\r\n            import51.PopoverCmpNgFactory,\r\n            import52.SelectPopoverNgFactory,\r\n            import53.ToastCmpNgFactory,\r\n            import54.MyAppNgFactory,\r\n            import55.HomeNgFactory,\r\n            import56.ClavierVirtuelNgFactory,\r\n            import57.GestionProfileNgFactory,\r\n            import58.ListeUserNgFactory,\r\n            import59.PageTestNgFactory,\r\n            import60.PrivacyPolicyPageNgFactory,\r\n            import61.ListeMessageNgFactory,\r\n            import62.ListeOrdreNgFactory,\r\n            import63.PaiementOrdreNgFactory,\r\n            import64.DetailOrdreNgFactory,\r\n            import65.BilanEventNgFactory,\r\n            import66.DetailMessageNgFactory,\r\n            import67.ListeEventNgFactory,\r\n            import68.ListeHistoriqueNgFactory,\r\n            import69.DetailOperationNgFactory,\r\n            import70.ListeDepenseNgFactory,\r\n            import71.GestionAmiNgFactory,\r\n            import72.ListeOperationNgFactory,\r\n            import73.CreationEventPageNgFactory,\r\n            import74.CreationDepensePageNgFactory,\r\n            import75.DetailEventPageNgFactory,\r\n            import76.InvitationAmiNgFactory,\r\n            import77.AjoutParticipantPageNgFactory,\r\n            import78.ModalPhotoNgFactory,\r\n            import79.ModalChoixEventNgFactory,\r\n            import80.ModalChoixOperationNgFactory,\r\n            import81.LoginPageNgFactory,\r\n            import82.WalkthroughPageNgFactory,\r\n            import83.ForgotPasswordPageNgFactory,\r\n            import84.SignupPageNgFactory\r\n        ], [import47.IonicAppNgFactory]) || this;\r\n    }\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_LOCALE_ID_27\", {\r\n        get: function () {\r\n            if ((this.__LOCALE_ID_27 == null)) {\r\n                (this.__LOCALE_ID_27 = import0.ɵn(this.parent.get(import0.LOCALE_ID, null)));\r\n            }\r\n            return this.__LOCALE_ID_27;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_NgLocalization_28\", {\r\n        get: function () {\r\n            if ((this.__NgLocalization_28 == null)) {\r\n                (this.__NgLocalization_28 = new import2.NgLocaleLocalization(this._LOCALE_ID_27));\r\n            }\r\n            return this.__NgLocalization_28;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_APP_ID_29\", {\r\n        get: function () {\r\n            if ((this.__APP_ID_29 == null)) {\r\n                (this.__APP_ID_29 = import0.ɵg());\r\n            }\r\n            return this.__APP_ID_29;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_IterableDiffers_30\", {\r\n        get: function () {\r\n            if ((this.__IterableDiffers_30 == null)) {\r\n                (this.__IterableDiffers_30 = import0.ɵl());\r\n            }\r\n            return this.__IterableDiffers_30;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_KeyValueDiffers_31\", {\r\n        get: function () {\r\n            if ((this.__KeyValueDiffers_31 == null)) {\r\n                (this.__KeyValueDiffers_31 = import0.ɵm());\r\n            }\r\n            return this.__KeyValueDiffers_31;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_DomSanitizer_32\", {\r\n        get: function () {\r\n            if ((this.__DomSanitizer_32 == null)) {\r\n                (this.__DomSanitizer_32 = new import8.ɵe(this.parent.get(import8.DOCUMENT)));\r\n            }\r\n            return this.__DomSanitizer_32;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Sanitizer_33\", {\r\n        get: function () {\r\n            if ((this.__Sanitizer_33 == null)) {\r\n                (this.__Sanitizer_33 = this._DomSanitizer_32);\r\n            }\r\n            return this.__Sanitizer_33;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_HAMMER_GESTURE_CONFIG_34\", {\r\n        get: function () {\r\n            if ((this.__HAMMER_GESTURE_CONFIG_34 == null)) {\r\n                (this.__HAMMER_GESTURE_CONFIG_34 = new import13.IonicGestureConfig());\r\n            }\r\n            return this.__HAMMER_GESTURE_CONFIG_34;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_EVENT_MANAGER_PLUGINS_35\", {\r\n        get: function () {\r\n            if ((this.__EVENT_MANAGER_PLUGINS_35 == null)) {\r\n                (this.__EVENT_MANAGER_PLUGINS_35 = [\r\n                    new import8.ɵDomEventsPlugin(this.parent.get(import8.DOCUMENT)),\r\n                    new import8.ɵKeyEventsPlugin(this.parent.get(import8.DOCUMENT)),\r\n                    new import8.ɵHammerGesturesPlugin(this.parent.get(import8.DOCUMENT), this._HAMMER_GESTURE_CONFIG_34)\r\n                ]);\r\n            }\r\n            return this.__EVENT_MANAGER_PLUGINS_35;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_EventManager_36\", {\r\n        get: function () {\r\n            if ((this.__EventManager_36 == null)) {\r\n                (this.__EventManager_36 = new import8.EventManager(this._EVENT_MANAGER_PLUGINS_35, this.parent.get(import0.NgZone)));\r\n            }\r\n            return this.__EventManager_36;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275DomSharedStylesHost_37\", {\r\n        get: function () {\r\n            if ((this.__ɵDomSharedStylesHost_37 == null)) {\r\n                (this.__ɵDomSharedStylesHost_37 = new import8.ɵDomSharedStylesHost(this.parent.get(import8.DOCUMENT)));\r\n            }\r\n            return this.__ɵDomSharedStylesHost_37;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275DomRendererFactory2_38\", {\r\n        get: function () {\r\n            if ((this.__ɵDomRendererFactory2_38 == null)) {\r\n                (this.__ɵDomRendererFactory2_38 = new import8.ɵDomRendererFactory2(this._EventManager_36, this._ɵDomSharedStylesHost_37));\r\n            }\r\n            return this.__ɵDomRendererFactory2_38;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_RendererFactory2_39\", {\r\n        get: function () {\r\n            if ((this.__RendererFactory2_39 == null)) {\r\n                (this.__RendererFactory2_39 = this._ɵDomRendererFactory2_38);\r\n            }\r\n            return this.__RendererFactory2_39;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275SharedStylesHost_40\", {\r\n        get: function () {\r\n            if ((this.__ɵSharedStylesHost_40 == null)) {\r\n                (this.__ɵSharedStylesHost_40 = this._ɵDomSharedStylesHost_37);\r\n            }\r\n            return this.__ɵSharedStylesHost_40;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Testability_41\", {\r\n        get: function () {\r\n            if ((this.__Testability_41 == null)) {\r\n                (this.__Testability_41 = new import0.Testability(this.parent.get(import0.NgZone)));\r\n            }\r\n            return this.__Testability_41;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Meta_42\", {\r\n        get: function () {\r\n            if ((this.__Meta_42 == null)) {\r\n                (this.__Meta_42 = new import8.Meta(this.parent.get(import8.DOCUMENT)));\r\n            }\r\n            return this.__Meta_42;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Title_43\", {\r\n        get: function () {\r\n            if ((this.__Title_43 == null)) {\r\n                (this.__Title_43 = new import8.Title(this.parent.get(import8.DOCUMENT)));\r\n            }\r\n            return this.__Title_43;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_BrowserXhr_44\", {\r\n        get: function () {\r\n            if ((this.__BrowserXhr_44 == null)) {\r\n                (this.__BrowserXhr_44 = new import9.BrowserXhr());\r\n            }\r\n            return this.__BrowserXhr_44;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_ResponseOptions_45\", {\r\n        get: function () {\r\n            if ((this.__ResponseOptions_45 == null)) {\r\n                (this.__ResponseOptions_45 = new import9.BaseResponseOptions());\r\n            }\r\n            return this.__ResponseOptions_45;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_XSRFStrategy_46\", {\r\n        get: function () {\r\n            if ((this.__XSRFStrategy_46 == null)) {\r\n                (this.__XSRFStrategy_46 = import9.ɵb());\r\n            }\r\n            return this.__XSRFStrategy_46;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_XHRBackend_47\", {\r\n        get: function () {\r\n            if ((this.__XHRBackend_47 == null)) {\r\n                (this.__XHRBackend_47 = new import9.XHRBackend(this._BrowserXhr_44, this._ResponseOptions_45, this._XSRFStrategy_46));\r\n            }\r\n            return this.__XHRBackend_47;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_RequestOptions_48\", {\r\n        get: function () {\r\n            if ((this.__RequestOptions_48 == null)) {\r\n                (this.__RequestOptions_48 = new import9.BaseRequestOptions());\r\n            }\r\n            return this.__RequestOptions_48;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Http_49\", {\r\n        get: function () {\r\n            if ((this.__Http_49 == null)) {\r\n                (this.__Http_49 = import9.ɵc(this._XHRBackend_47, this._RequestOptions_48));\r\n            }\r\n            return this.__Http_49;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_RestangularHttp_50\", {\r\n        get: function () {\r\n            if ((this.__RestangularHttp_50 == null)) {\r\n                (this.__RestangularHttp_50 = new import14.RestangularHttp(this._Http_49));\r\n            }\r\n            return this.__RestangularHttp_50;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_RESTANGULAR_52\", {\r\n        get: function () {\r\n            if ((this.__RESTANGULAR_52 == null)) {\r\n                (this.__RESTANGULAR_52 = import85.RestangularFactory(this._CONFIG_OBJ_51));\r\n            }\r\n            return this.__RESTANGULAR_52;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Restangular_53\", {\r\n        get: function () {\r\n            if ((this.__Restangular_53 == null)) {\r\n                (this.__Restangular_53 = new import15.Restangular(this._RESTANGULAR_52, this, this._RestangularHttp_50));\r\n            }\r\n            return this.__Restangular_53;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275i_54\", {\r\n        get: function () {\r\n            if ((this.__ɵi_54 == null)) {\r\n                (this.__ɵi_54 = new import11.ɵi());\r\n            }\r\n            return this.__ɵi_54;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_FormBuilder_55\", {\r\n        get: function () {\r\n            if ((this.__FormBuilder_55 == null)) {\r\n                (this.__FormBuilder_55 = new import11.FormBuilder());\r\n            }\r\n            return this.__FormBuilder_55;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_ActionSheetController_58\", {\r\n        get: function () {\r\n            if ((this.__ActionSheetController_58 == null)) {\r\n                (this.__ActionSheetController_58 = new import16.ActionSheetController(this._App_8, this._Config_5));\r\n            }\r\n            return this.__ActionSheetController_58;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_AlertController_59\", {\r\n        get: function () {\r\n            if ((this.__AlertController_59 == null)) {\r\n                (this.__AlertController_59 = new import17.AlertController(this._App_8, this._Config_5));\r\n            }\r\n            return this.__AlertController_59;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Events_60\", {\r\n        get: function () {\r\n            if ((this.__Events_60 == null)) {\r\n                (this.__Events_60 = new import18.Events());\r\n            }\r\n            return this.__Events_60;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Form_61\", {\r\n        get: function () {\r\n            if ((this.__Form_61 == null)) {\r\n                (this.__Form_61 = new import19.Form());\r\n            }\r\n            return this.__Form_61;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Haptic_62\", {\r\n        get: function () {\r\n            if ((this.__Haptic_62 == null)) {\r\n                (this.__Haptic_62 = new import20.Haptic(this._Platform_4));\r\n            }\r\n            return this.__Haptic_62;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Keyboard_63\", {\r\n        get: function () {\r\n            if ((this.__Keyboard_63 == null)) {\r\n                (this.__Keyboard_63 = new import21.Keyboard(this._Config_5, this._Platform_4, this.parent.get(import0.NgZone), this._DomController_6));\r\n            }\r\n            return this.__Keyboard_63;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_LoadingController_64\", {\r\n        get: function () {\r\n            if ((this.__LoadingController_64 == null)) {\r\n                (this.__LoadingController_64 = new import22.LoadingController(this._App_8, this._Config_5));\r\n            }\r\n            return this.__LoadingController_64;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_LocationStrategy_65\", {\r\n        get: function () {\r\n            if ((this.__LocationStrategy_65 == null)) {\r\n                (this.__LocationStrategy_65 = import12.provideLocationStrategy(this.parent.get(import2.PlatformLocation), this._APP_BASE_HREF_57, this._Config_5));\r\n            }\r\n            return this.__LocationStrategy_65;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Location_66\", {\r\n        get: function () {\r\n            if ((this.__Location_66 == null)) {\r\n                (this.__Location_66 = new import2.Location(this._LocationStrategy_65));\r\n            }\r\n            return this.__Location_66;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_UrlSerializer_67\", {\r\n        get: function () {\r\n            if ((this.__UrlSerializer_67 == null)) {\r\n                (this.__UrlSerializer_67 = import86.setupUrlSerializer(this._App_8, this._DeepLinkConfigToken_10));\r\n            }\r\n            return this.__UrlSerializer_67;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_DeepLinker_68\", {\r\n        get: function () {\r\n            if ((this.__DeepLinker_68 == null)) {\r\n                (this.__DeepLinker_68 = import87.setupDeepLinker(this._App_8, this._UrlSerializer_67, this._Location_66, this._ModuleLoader_13, this.componentFactoryResolver));\r\n            }\r\n            return this.__DeepLinker_68;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_ModalController_69\", {\r\n        get: function () {\r\n            if ((this.__ModalController_69 == null)) {\r\n                (this.__ModalController_69 = new import23.ModalController(this._App_8, this._Config_5, this._DeepLinker_68));\r\n            }\r\n            return this.__ModalController_69;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_PickerController_70\", {\r\n        get: function () {\r\n            if ((this.__PickerController_70 == null)) {\r\n                (this.__PickerController_70 = new import24.PickerController(this._App_8, this._Config_5));\r\n            }\r\n            return this.__PickerController_70;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_PopoverController_71\", {\r\n        get: function () {\r\n            if ((this.__PopoverController_71 == null)) {\r\n                (this.__PopoverController_71 = new import25.PopoverController(this._App_8, this._Config_5, this._DeepLinker_68));\r\n            }\r\n            return this.__PopoverController_71;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_TapClick_72\", {\r\n        get: function () {\r\n            if ((this.__TapClick_72 == null)) {\r\n                (this.__TapClick_72 = new import26.TapClick(this._Config_5, this._Platform_4, this._DomController_6, this._App_8, this._GestureController_9));\r\n            }\r\n            return this.__TapClick_72;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_ToastController_73\", {\r\n        get: function () {\r\n            if ((this.__ToastController_73 == null)) {\r\n                (this.__ToastController_73 = new import27.ToastController(this._App_8, this._Config_5));\r\n            }\r\n            return this.__ToastController_73;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_TransitionController_74\", {\r\n        get: function () {\r\n            if ((this.__TransitionController_74 == null)) {\r\n                (this.__TransitionController_74 = new import28.TransitionController(this._Platform_4, this._Config_5));\r\n            }\r\n            return this.__TransitionController_74;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_SMS_75\", {\r\n        get: function () {\r\n            if ((this.__SMS_75 == null)) {\r\n                (this.__SMS_75 = new import29.SMS());\r\n            }\r\n            return this.__SMS_75;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Constante_76\", {\r\n        get: function () {\r\n            if ((this.__Constante_76 == null)) {\r\n                (this.__Constante_76 = new import30.Constante(this._ToastController_73));\r\n            }\r\n            return this.__Constante_76;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_AppVersion_77\", {\r\n        get: function () {\r\n            if ((this.__AppVersion_77 == null)) {\r\n                (this.__AppVersion_77 = new import31.AppVersion());\r\n            }\r\n            return this.__AppVersion_77;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Badge_78\", {\r\n        get: function () {\r\n            if ((this.__Badge_78 == null)) {\r\n                (this.__Badge_78 = new import32.Badge());\r\n            }\r\n            return this.__Badge_78;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_NativeStorage_79\", {\r\n        get: function () {\r\n            if ((this.__NativeStorage_79 == null)) {\r\n                (this.__NativeStorage_79 = new import33.NativeStorage());\r\n            }\r\n            return this.__NativeStorage_79;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Facebook_80\", {\r\n        get: function () {\r\n            if ((this.__Facebook_80 == null)) {\r\n                (this.__Facebook_80 = new import34.Facebook());\r\n            }\r\n            return this.__Facebook_80;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_FacebookLoginService_81\", {\r\n        get: function () {\r\n            if ((this.__FacebookLoginService_81 == null)) {\r\n                (this.__FacebookLoginService_81 = new import35.FacebookLoginService(this._Http_49, this._NativeStorage_79, this._Facebook_80));\r\n            }\r\n            return this.__FacebookLoginService_81;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_GooglePlus_82\", {\r\n        get: function () {\r\n            if ((this.__GooglePlus_82 == null)) {\r\n                (this.__GooglePlus_82 = new import36.GooglePlus());\r\n            }\r\n            return this.__GooglePlus_82;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_GoogleLoginService_83\", {\r\n        get: function () {\r\n            if ((this.__GoogleLoginService_83 == null)) {\r\n                (this.__GoogleLoginService_83 = new import37.GoogleLoginService(this._Http_49, this._NativeStorage_79, this._GooglePlus_82));\r\n            }\r\n            return this.__GoogleLoginService_83;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Camera_84\", {\r\n        get: function () {\r\n            if ((this.__Camera_84 == null)) {\r\n                (this.__Camera_84 = new import38.Camera());\r\n            }\r\n            return this.__Camera_84;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Contacts_85\", {\r\n        get: function () {\r\n            if ((this.__Contacts_85 == null)) {\r\n                (this.__Contacts_85 = new import39.Contacts());\r\n            }\r\n            return this.__Contacts_85;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_PayPal_86\", {\r\n        get: function () {\r\n            if ((this.__PayPal_86 == null)) {\r\n                (this.__PayPal_86 = new import40.PayPal());\r\n            }\r\n            return this.__PayPal_86;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_SplashScreen_87\", {\r\n        get: function () {\r\n            if ((this.__SplashScreen_87 == null)) {\r\n                (this.__SplashScreen_87 = new import41.SplashScreen());\r\n            }\r\n            return this.__SplashScreen_87;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_StatusBar_88\", {\r\n        get: function () {\r\n            if ((this.__StatusBar_88 == null)) {\r\n                (this.__StatusBar_88 = new import42.StatusBar());\r\n            }\r\n            return this.__StatusBar_88;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_InAppBrowser_89\", {\r\n        get: function () {\r\n            if ((this.__InAppBrowser_89 == null)) {\r\n                (this.__InAppBrowser_89 = new import43.InAppBrowser());\r\n            }\r\n            return this.__InAppBrowser_89;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AppModuleInjector.prototype, \"_Keyboard_90\", {\r\n        get: function () {\r\n            if ((this.__Keyboard_90 == null)) {\r\n                (this.__Keyboard_90 = new import44.Keyboard());\r\n            }\r\n            return this.__Keyboard_90;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AppModuleInjector.prototype.createInternal = function () {\r\n        this._CommonModule_0 = new import2.CommonModule();\r\n        this._ErrorHandler_1 = import8.ɵa();\r\n        this._ConfigToken_2 = null;\r\n        this._PlatformConfigToken_3 = import88.providePlatformConfigs();\r\n        this._Platform_4 = import89.setupPlatform(this.parent.get(import8.DOCUMENT), this._PlatformConfigToken_3, this.parent.get(import0.NgZone));\r\n        this._Config_5 = import90.setupConfig(this._ConfigToken_2, this._Platform_4);\r\n        this._DomController_6 = new import3.DomController(this._Platform_4);\r\n        this._MenuController_7 = new import4.MenuController();\r\n        this._App_8 = new import5.App(this._Config_5, this._Platform_4, this._MenuController_7);\r\n        this._GestureController_9 = new import6.GestureController(this._App_8);\r\n        this._DeepLinkConfigToken_10 = null;\r\n        this._Compiler_11 = new import0.Compiler();\r\n        this._NgModuleLoader_12 = new import7.NgModuleLoader(this._Compiler_11);\r\n        this._ModuleLoader_13 = import91.provideModuleLoader(this._NgModuleLoader_12, this);\r\n        this._APP_INITIALIZER_14 = [\r\n            import0.ɵo,\r\n            import8.ɵc(this.parent.get(import8.NgProbeToken, null), this.parent.get(import0.NgProbeToken, null)),\r\n            import92.registerModeConfigs(this._Config_5),\r\n            import18.setupProvideEvents(this._Platform_4, this._DomController_6),\r\n            import26.setupTapClick(this._Config_5, this._Platform_4, this._DomController_6, this._App_8, this._GestureController_9),\r\n            import91.setupPreloading(this._Config_5, this._DeepLinkConfigToken_10, this._ModuleLoader_13, this.parent.get(import0.NgZone))\r\n        ];\r\n        this._ApplicationInitStatus_15 = new import0.ApplicationInitStatus(this._APP_INITIALIZER_14);\r\n        this._ɵf_16 = new import0.ɵf(this.parent.get(import0.NgZone), this.parent.get(import0.ɵConsole), this, this._ErrorHandler_1, this.componentFactoryResolver, this._ApplicationInitStatus_15);\r\n        this._ApplicationRef_17 = this._ɵf_16;\r\n        this._ApplicationModule_18 = new import0.ApplicationModule(this._ApplicationRef_17);\r\n        this._BrowserModule_19 = new import8.BrowserModule(this.parent.get(import8.BrowserModule, null));\r\n        this._HttpModule_20 = new import9.HttpModule();\r\n        this._RestangularModule_21 = new import10.RestangularModule(this.parent.get(import10.RestangularModule, null));\r\n        this._ɵba_22 = new import11.ɵba();\r\n        this._FormsModule_23 = new import11.FormsModule();\r\n        this._ReactiveFormsModule_24 = new import11.ReactiveFormsModule();\r\n        this._IonicModule_25 = new import12.IonicModule();\r\n        this._AppModule_26 = new import1.AppModule();\r\n        this._CONFIG_OBJ_51 = [\r\n            import1.RestangularConfigFactory,\r\n            undefined\r\n        ];\r\n        this._AppRootToken_56 = import93.MyApp;\r\n        this._APP_BASE_HREF_57 = '/';\r\n        return this._AppModule_26;\r\n    };\r\n    AppModuleInjector.prototype.getInternal = function (token, notFoundResult) {\r\n        if ((token === import2.CommonModule)) {\r\n            return this._CommonModule_0;\r\n        }\r\n        if ((token === import0.ErrorHandler)) {\r\n            return this._ErrorHandler_1;\r\n        }\r\n        if ((token === import90.ConfigToken)) {\r\n            return this._ConfigToken_2;\r\n        }\r\n        if ((token === import88.PlatformConfigToken)) {\r\n            return this._PlatformConfigToken_3;\r\n        }\r\n        if ((token === import89.Platform)) {\r\n            return this._Platform_4;\r\n        }\r\n        if ((token === import90.Config)) {\r\n            return this._Config_5;\r\n        }\r\n        if ((token === import3.DomController)) {\r\n            return this._DomController_6;\r\n        }\r\n        if ((token === import4.MenuController)) {\r\n            return this._MenuController_7;\r\n        }\r\n        if ((token === import5.App)) {\r\n            return this._App_8;\r\n        }\r\n        if ((token === import6.GestureController)) {\r\n            return this._GestureController_9;\r\n        }\r\n        if ((token === import86.DeepLinkConfigToken)) {\r\n            return this._DeepLinkConfigToken_10;\r\n        }\r\n        if ((token === import0.Compiler)) {\r\n            return this._Compiler_11;\r\n        }\r\n        if ((token === import7.NgModuleLoader)) {\r\n            return this._NgModuleLoader_12;\r\n        }\r\n        if ((token === import91.ModuleLoader)) {\r\n            return this._ModuleLoader_13;\r\n        }\r\n        if ((token === import0.APP_INITIALIZER)) {\r\n            return this._APP_INITIALIZER_14;\r\n        }\r\n        if ((token === import0.ApplicationInitStatus)) {\r\n            return this._ApplicationInitStatus_15;\r\n        }\r\n        if ((token === import0.ɵf)) {\r\n            return this._ɵf_16;\r\n        }\r\n        if ((token === import0.ApplicationRef)) {\r\n            return this._ApplicationRef_17;\r\n        }\r\n        if ((token === import0.ApplicationModule)) {\r\n            return this._ApplicationModule_18;\r\n        }\r\n        if ((token === import8.BrowserModule)) {\r\n            return this._BrowserModule_19;\r\n        }\r\n        if ((token === import9.HttpModule)) {\r\n            return this._HttpModule_20;\r\n        }\r\n        if ((token === import10.RestangularModule)) {\r\n            return this._RestangularModule_21;\r\n        }\r\n        if ((token === import11.ɵba)) {\r\n            return this._ɵba_22;\r\n        }\r\n        if ((token === import11.FormsModule)) {\r\n            return this._FormsModule_23;\r\n        }\r\n        if ((token === import11.ReactiveFormsModule)) {\r\n            return this._ReactiveFormsModule_24;\r\n        }\r\n        if ((token === import12.IonicModule)) {\r\n            return this._IonicModule_25;\r\n        }\r\n        if ((token === import1.AppModule)) {\r\n            return this._AppModule_26;\r\n        }\r\n        if ((token === import0.LOCALE_ID)) {\r\n            return this._LOCALE_ID_27;\r\n        }\r\n        if ((token === import2.NgLocalization)) {\r\n            return this._NgLocalization_28;\r\n        }\r\n        if ((token === import0.APP_ID)) {\r\n            return this._APP_ID_29;\r\n        }\r\n        if ((token === import0.IterableDiffers)) {\r\n            return this._IterableDiffers_30;\r\n        }\r\n        if ((token === import0.KeyValueDiffers)) {\r\n            return this._KeyValueDiffers_31;\r\n        }\r\n        if ((token === import8.DomSanitizer)) {\r\n            return this._DomSanitizer_32;\r\n        }\r\n        if ((token === import0.Sanitizer)) {\r\n            return this._Sanitizer_33;\r\n        }\r\n        if ((token === import8.HAMMER_GESTURE_CONFIG)) {\r\n            return this._HAMMER_GESTURE_CONFIG_34;\r\n        }\r\n        if ((token === import8.EVENT_MANAGER_PLUGINS)) {\r\n            return this._EVENT_MANAGER_PLUGINS_35;\r\n        }\r\n        if ((token === import8.EventManager)) {\r\n            return this._EventManager_36;\r\n        }\r\n        if ((token === import8.ɵDomSharedStylesHost)) {\r\n            return this._ɵDomSharedStylesHost_37;\r\n        }\r\n        if ((token === import8.ɵDomRendererFactory2)) {\r\n            return this._ɵDomRendererFactory2_38;\r\n        }\r\n        if ((token === import0.RendererFactory2)) {\r\n            return this._RendererFactory2_39;\r\n        }\r\n        if ((token === import8.ɵSharedStylesHost)) {\r\n            return this._ɵSharedStylesHost_40;\r\n        }\r\n        if ((token === import0.Testability)) {\r\n            return this._Testability_41;\r\n        }\r\n        if ((token === import8.Meta)) {\r\n            return this._Meta_42;\r\n        }\r\n        if ((token === import8.Title)) {\r\n            return this._Title_43;\r\n        }\r\n        if ((token === import9.BrowserXhr)) {\r\n            return this._BrowserXhr_44;\r\n        }\r\n        if ((token === import9.ResponseOptions)) {\r\n            return this._ResponseOptions_45;\r\n        }\r\n        if ((token === import9.XSRFStrategy)) {\r\n            return this._XSRFStrategy_46;\r\n        }\r\n        if ((token === import9.XHRBackend)) {\r\n            return this._XHRBackend_47;\r\n        }\r\n        if ((token === import9.RequestOptions)) {\r\n            return this._RequestOptions_48;\r\n        }\r\n        if ((token === import9.Http)) {\r\n            return this._Http_49;\r\n        }\r\n        if ((token === import14.RestangularHttp)) {\r\n            return this._RestangularHttp_50;\r\n        }\r\n        if ((token === import10.CONFIG_OBJ)) {\r\n            return this._CONFIG_OBJ_51;\r\n        }\r\n        if ((token === import85.RESTANGULAR)) {\r\n            return this._RESTANGULAR_52;\r\n        }\r\n        if ((token === import15.Restangular)) {\r\n            return this._Restangular_53;\r\n        }\r\n        if ((token === import11.ɵi)) {\r\n            return this._ɵi_54;\r\n        }\r\n        if ((token === import11.FormBuilder)) {\r\n            return this._FormBuilder_55;\r\n        }\r\n        if ((token === import94.AppRootToken)) {\r\n            return this._AppRootToken_56;\r\n        }\r\n        if ((token === import2.APP_BASE_HREF)) {\r\n            return this._APP_BASE_HREF_57;\r\n        }\r\n        if ((token === import16.ActionSheetController)) {\r\n            return this._ActionSheetController_58;\r\n        }\r\n        if ((token === import17.AlertController)) {\r\n            return this._AlertController_59;\r\n        }\r\n        if ((token === import18.Events)) {\r\n            return this._Events_60;\r\n        }\r\n        if ((token === import19.Form)) {\r\n            return this._Form_61;\r\n        }\r\n        if ((token === import20.Haptic)) {\r\n            return this._Haptic_62;\r\n        }\r\n        if ((token === import21.Keyboard)) {\r\n            return this._Keyboard_63;\r\n        }\r\n        if ((token === import22.LoadingController)) {\r\n            return this._LoadingController_64;\r\n        }\r\n        if ((token === import2.LocationStrategy)) {\r\n            return this._LocationStrategy_65;\r\n        }\r\n        if ((token === import2.Location)) {\r\n            return this._Location_66;\r\n        }\r\n        if ((token === import86.UrlSerializer)) {\r\n            return this._UrlSerializer_67;\r\n        }\r\n        if ((token === import87.DeepLinker)) {\r\n            return this._DeepLinker_68;\r\n        }\r\n        if ((token === import23.ModalController)) {\r\n            return this._ModalController_69;\r\n        }\r\n        if ((token === import24.PickerController)) {\r\n            return this._PickerController_70;\r\n        }\r\n        if ((token === import25.PopoverController)) {\r\n            return this._PopoverController_71;\r\n        }\r\n        if ((token === import26.TapClick)) {\r\n            return this._TapClick_72;\r\n        }\r\n        if ((token === import27.ToastController)) {\r\n            return this._ToastController_73;\r\n        }\r\n        if ((token === import28.TransitionController)) {\r\n            return this._TransitionController_74;\r\n        }\r\n        if ((token === import29.SMS)) {\r\n            return this._SMS_75;\r\n        }\r\n        if ((token === import30.Constante)) {\r\n            return this._Constante_76;\r\n        }\r\n        if ((token === import31.AppVersion)) {\r\n            return this._AppVersion_77;\r\n        }\r\n        if ((token === import32.Badge)) {\r\n            return this._Badge_78;\r\n        }\r\n        if ((token === import33.NativeStorage)) {\r\n            return this._NativeStorage_79;\r\n        }\r\n        if ((token === import34.Facebook)) {\r\n            return this._Facebook_80;\r\n        }\r\n        if ((token === import35.FacebookLoginService)) {\r\n            return this._FacebookLoginService_81;\r\n        }\r\n        if ((token === import36.GooglePlus)) {\r\n            return this._GooglePlus_82;\r\n        }\r\n        if ((token === import37.GoogleLoginService)) {\r\n            return this._GoogleLoginService_83;\r\n        }\r\n        if ((token === import38.Camera)) {\r\n            return this._Camera_84;\r\n        }\r\n        if ((token === import39.Contacts)) {\r\n            return this._Contacts_85;\r\n        }\r\n        if ((token === import40.PayPal)) {\r\n            return this._PayPal_86;\r\n        }\r\n        if ((token === import41.SplashScreen)) {\r\n            return this._SplashScreen_87;\r\n        }\r\n        if ((token === import42.StatusBar)) {\r\n            return this._StatusBar_88;\r\n        }\r\n        if ((token === import43.InAppBrowser)) {\r\n            return this._InAppBrowser_89;\r\n        }\r\n        if ((token === import44.Keyboard)) {\r\n            return this._Keyboard_90;\r\n        }\r\n        return notFoundResult;\r\n    };\r\n    AppModuleInjector.prototype.destroyInternal = function () {\r\n        this._ɵf_16.ngOnDestroy();\r\n        (this.__ɵDomSharedStylesHost_37 && this._ɵDomSharedStylesHost_37.ngOnDestroy());\r\n    };\r\n    return AppModuleInjector;\r\n}(import0.ɵNgModuleInjector));\r\nexport var AppModuleNgFactory = new import0.NgModuleFactory(AppModuleInjector, import1.AppModule);\r\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiRjovTm9kZWpzL0NvTW9uZXlUeS9zcmMvYXBwL2FwcC5tb2R1bGUubmdmYWN0b3J5LnRzIiwidmVyc2lvbiI6Mywic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmc6Ly8vRjovTm9kZWpzL0NvTW9uZXlUeS9zcmMvYXBwL2FwcC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiICJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsifQ==\r\n//# sourceMappingURL=app.module.ngfactory.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.ts"]}